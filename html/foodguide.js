(function(){var J,L,t=480,p=1*t,r=3*t,g=6*t,f=10*t,n=15*t,D=20*t,E=40*t,l=2*t,na=t/16*.6666,Y=[],C=7,v={vanilla:{name:"Vanilla",img:"vanilla.png",bit:1,mask:1,color:"#ff592e"},giants:{name:"Reign of Giants",img:"reign_of_giants.png",bit:2,mask:3,color:"#b857c6"},shipwrecked:{name:"Shipwrecked",img:"shipwrecked.png",bit:4,mask:7,color:"#50c1cc"},together:{name:"Together",img:"together.png",bit:8,mask:11,color:"#c0c0c0"}},U=function(a){C=a;for(a=0;a<M.childNodes.length;a++){var d=M.childNodes[a];d.className=
0!==(C&v[d.dataset.dlc].bit)?"enabled":""}for(a=0;a<Y.length;a++)Y[a]()},m={acorn:{name:"Birchnut",uncookable:!0,hunger:9.375,health:1,sanity:0,perish:D,stack:40,dlc:"giants"},acorn_cooked:{name:"Roasted Birchnut",ideal:!0,seed:1,hunger:9.375,health:1,sanity:0,perish:g,stack:40,dlc:"giants"},butter:{name:"Butter",fat:1,dairy:1,health:40,hunger:25,sanity:0,perish:E,stack:40},butterflywings:{name:"Butterfly Wings",isveggie:!0,decoration:2,health:8,hunger:9.375,sanity:0,perish:g,stack:40},cactusflower:{name:"Cactus Flower",
veggie:.5,hunger:12.5,health:8,sanity:5,perish:r,stack:40,dlc:"giants"},deerclopseyeball:{name:"Deerclops Eyeball",uncookable:!0,health:60,hunger:75,sanity:-15},bird_egg:{name:"Egg",egg:1,health:0,hunger:9.375,sanity:0,perish:f,stack:40,rot:"rottenegg"},bird_egg_cooked:{name:"Cooked Egg",egg:1,precook:1,health:0,hunger:12.5,sanity:0,perish:g,stack:40},rottenegg:{name:"Rotten Egg",uncookable:!0,health:-1,hunger:-10,sanity:0,stack:40},cutlichen:{name:"Lichen",isveggie:!0,veggie:1,health:3,hunger:12.5,
sanity:-5,perish:2*t},eel:{name:"Eel",ismeat:!0,meat:.5,fish:1,health:3,hunger:9.375,sanity:0,perish:r,stack:40,dry:"morsel_dried",drytime:t},eel_cooked:{name:"Cooked Eel",ismeat:!0,health:8,hunger:12.5,sanity:0,perish:g,stack:40},fish:{name:"Fish",ismeat:!0,meat:.5,fish:1,health:1,hunger:12.5,sanity:0,perish:r,stack:40,drytime:t,dry:"morsel_dried"},fish_cooked:{name:"Cooked Fish",ismeat:!0,meat:.5,fish:1,precook:1,health:1,hunger:12.5,sanity:0,perish:g,stack:40},froglegs:{name:"Frog Legs",ismeat:!0,
meat:.5,health:0,hunger:12.5,perish:g,sanity:-10,stack:40},froglegs_cooked:{name:"Cooked Frog Legs",ismeat:!0,meat:.5,precook:1,health:1,hunger:12.5,perish:f,sanity:0,stack:40},foliage:{name:"Foliage",uncookable:!0,health:1,hunger:0,sanity:0,perish:g,stack:40},goatmilk:{name:"Electric Milk",dairy:1,health:3,hunger:12.5,sanity:10,perish:g,stack:40,dlc:"giants"},honey:{name:"Honey",sweetener:!0,health:3,hunger:9.375,sanity:0,perish:E,stack:40},honeycomb:{name:"Honeycomb",sweetener:!0},ice:{name:"Ice",
frozen:1,health:.5,hunger:2.34375,sanity:0,perish:r,stack:40,dlc:"giants"},lightbulb:{name:"Light Bulb",health:1,hunger:0,sanity:0,perish:g,stack:40,uncookable:!0},mandrake:{name:"Mandrake",veggie:1,magic:1,health:60,hunger:75,sanity:0,stack:40},mandrake_cooked:{name:"Cooked Mandrake",uncookable:!0,veggie:1,magic:1,precook:1,health:100,hunger:150,sanity:0,stack:40},mole:{name:"Moleworm",ideal:!0,meat:.5,perish:2*t,cook:"morsel_cooked",dlc:"giants"},plantmeat:{name:"Leafy Meat",uncookable:!0,health:0,
hunger:12.5,sanity:-10,perish:g,stack:40},plantmeat_cooked:{name:"Cooked Leafy Meat",uncookable:!0,health:1,hunger:18.75,sanity:0,perish:f,stack:40},monstermeat:{name:"Monster Meat",ismeat:!0,meat:1,monster:!0,health:-20,hunger:18.75,sanity:-15,perish:g,stack:20,dry:"monstermeat_dried",drytime:t},monstermeat_cooked:{name:"Cooked Monster Meat",ismeat:!0,meat:1,monster:!0,precook:1,health:-3,hunger:18.75,sanity:-10,perish:n,stack:20},monstermeat_dried:{name:"Monster Jerky",ismeat:!0,meat:1,monster:!0,
dried:1,health:-3,hunger:18.75,sanity:-5,perish:D,stack:20},meat:{name:"Meat",ismeat:!0,meat:1,health:1,hunger:25,sanity:-10,perish:g,stack:20,dry:"meat_dried",drytime:l},meat_cooked:{name:"Cooked Meat",ismeat:!0,meat:1,precook:1,health:3,hunger:25,sanity:0,perish:f,stack:20},meat_dried:{name:"Jerky",ismeat:!0,meat:1,dried:1,health:20,hunger:25,sanity:15,perish:D,stack:20},morsel:{name:"Morsel",ismeat:!0,meat:.5,health:0,hunger:12.5,sanity:-10,perish:g,stack:40,drytime:t,dry:"morsel_dried"},morsel_cooked:{name:"Cooked Morsel",
ismeat:!0,meat:.5,precook:1,health:1,hunger:12.5,sanity:0,perish:f,stack:40},morsel_dried:{name:"Small Jerky",ismeat:!0,meat:.5,dried:1,health:8,hunger:12.5,sanity:10,perish:D,stack:40},drumstick:{name:"Drumstick",ismeat:!0,ideal:!0,meat:.5,health:0,hunger:12.5,sanity:-10,perish:g,stack:20,drytime:t,dry:"morsel_dried"},drumstick_cooked:{name:"Fried Drumstick",ismeat:!0,meat:.5,precook:1,health:1,hunger:12.5,sanity:0,perish:f,stack:20},batwing:{name:"Batilisk Wing",ismeat:!0,health:3,hunger:12.5,sanity:-10,
perish:g,stack:40,drytime:l,dry:"morsel_dried",uncookable:!0},batwing_cooked:{name:"Cooked Batilisk Wing",ismeat:!0,health:8,hunger:18.75,sanity:0,perish:f,uncookable:!0},minotaurhorn:{name:"Guardian's Horn",uncookable:!0,ismeat:!0,health:60,hunger:75,sanity:-15},red_mushroom:{name:"Red Cap",basename:"CapRed",veggie:.5,ideal:!0,health:-20,hunger:12.5,sanity:0,perish:f,stack:40},red_mushroom_cooked:{name:"Cooked Red Cap",veggie:.5,health:1,hunger:0,sanity:-10,perish:f,stack:40},green_mushroom:{name:"Green Cap",
basename:"CapGreen",veggie:.5,ideal:!0,health:0,hunger:12.5,sanity:-50,perish:f,stack:40},green_mushroom_cooked:{name:"Cooked Green Cap",veggie:.5,health:-1,hunger:0,sanity:15,perish:f,stack:40},blue_mushroom:{name:"Blue Cap",basename:"CapBlue",veggie:.5,ideal:!0,health:20,hunger:12.5,sanity:-15,perish:f,stack:40},blue_mushroom_cooked:{name:"Cooked Blue Cap",veggie:.5,health:-3,hunger:0,sanity:10,perish:f,stack:40},petals:{name:"Petals",uncookable:!0,health:1,hunger:0,sanity:0,perish:g,stack:40},
petals_evil:{name:"Dark Petals",basename:"Petals.",uncookable:!0,health:0,hunger:0,sanity:-5,perish:g,stack:40},seeds:{name:"Seeds",uncookable:!0,health:0,hunger:4.6875,sanity:0,perish:E,stack:40},seeds_cooked:{name:"Toasted Seeds",uncookable:!0,health:1,hunger:4.6875,sanity:0,perish:f,stack:40},spoiled_food:{name:"Rot",uncookable:!0,health:-1,hunger:-10,sanity:0,stack:40},tallbirdegg:{name:"Tallbird Egg",egg:4,health:3,hunger:25,sanity:0},tallbirdegg_cooked:{name:"Fried Tallbird Egg",egg:4,precook:1,
health:0,hunger:37.5,sanity:0,perish:g},trunk_summer:{name:"Koalefant Trunk",uncookable:!0,ismeat:!0,health:30,hunger:37.5,sanity:0,perish:g,stack:20},trunk_summer_cooked:{name:"Koalefant Trunk Steak",uncookable:!0,ismeat:!0,health:40,hunger:75,sanity:0,perish:n,stack:20},twigs:{name:"Twigs",inedible:1},cavebanana:{name:"Banana",ideal:!0,isfruit:!0,fruit:1,health:1,hunger:12.5,sanity:0,perish:f},cavebanana_cooked:{name:"Cooked Banana",isfruit:!0,fruit:1,precook:1,health:3,hunger:12.5,sanity:0,perish:g},
carrot:{name:"Carrot",isveggie:!0,veggie:1,health:1,hunger:12.5,perish:f,sanity:0,stack:40},carrot_cooked:{name:"Roasted Carrot",isveggie:!0,veggie:1,precook:1,health:3,hunger:12.5,perish:g,sanity:0,stack:40},corn:{name:"Corn",ideal:!0,isveggie:!0,veggie:1,health:3,hunger:25,perish:f,sanity:0,stack:40},corn_cooked:{name:"Popcorn",isveggie:!0,veggie:1,precook:1,health:3,hunger:12.5,perish:n,sanity:0,stack:40},pumpkin:{name:"Pumpkin",isveggie:!0,veggie:1,health:3,hunger:37.5,perish:f,sanity:0,stack:20},
pumpkin_cooked:{name:"Hot Pumpkin",isveggie:!0,veggie:1,precook:1,health:8,hunger:37.5,perish:g,sanity:0,stack:20},eggplant:{name:"Eggplant",isveggie:!0,veggie:1,health:8,hunger:25,perish:f,sanity:0,stack:20},eggplant_cooked:{name:"Braised Eggplant",isveggie:!0,veggie:1,precook:1,health:20,hunger:25,perish:g,sanity:0,stack:20},durian:{name:"Durian",isfruit:!0,monster:1,fruit:1,health:-3,hunger:25,perish:f,sanity:-5,stack:20},durian_cooked:{name:"Extra Smelly Durian",isfruit:!0,monster:1,fruit:1,precook:1,
health:0,hunger:25,perish:g,sanity:-5,stack:20},pomegranate:{name:"Pomegranate",isfruit:!0,fruit:1,health:3,hunger:9.375,perish:g,sanity:0,stack:40},pomegranate_cooked:{name:"Sliced Pomegranate",isfruit:!0,fruit:1,precook:1,health:20,hunger:12.5,perish:r,sanity:0,stack:40},dragonfruit:{name:"Dragon Fruit",isfruit:!0,fruit:1,health:3,hunger:9.375,perish:g,sanity:0,stack:40},dragonfruit_cooked:{name:"Prepared Dragon Fruit",isfruit:!0,fruit:1,precook:1,health:20,hunger:12.5,perish:r,sanity:0,stack:40},
berries:{name:"Berries",isfruit:!0,fruit:.5,health:0,hunger:9.375,perish:g,sanity:0,stack:40},berries_cooked:{name:"Roasted Berries",isfruit:!0,fruit:.5,precook:1,health:1,hunger:12.5,perish:r,sanity:0,stack:40},cactusmeat:{name:"Cactus Flesh",ideal:!0,veggie:1,hunger:12.5,health:-3,perish:f,sanity:-5,stack:40,dlc:"giants"},cactusmeat_cooked:{name:"Cooked Cactus Flesh",veggie:1,hunger:12.5,health:1,perish:f,sanity:15,precook:1,stack:40,dlc:"giants"},watermelon:{name:"Watermelon",fruit:1,ideal:!0,
hunger:12.5,health:3,perish:g,sanity:5,stack:40,dlc:"giants"},watermelon_cooked:{name:"Grilled Watermelon",fruit:1,hunger:12.5,health:1,perish:r,sanity:7.5,precook:1,stack:40,dlc:"giants"},wormlight:{name:"Glow Berry",uncookable:!0,health:11,hunger:18.75,sanity:-10,perish:f,note:"Gives 90 seconds of light"},glommerfuel:{name:"Glommer's Goop",uncookable:!0,health:40,hunger:9.375,sanity:-50,dlc:"giants"},coral_brain:{name:"Brainy Matter",uncookable:!0,health:-10,hunger:10,sanity:50,perish:p,dlc:"shipwrecked"},
blubber:{name:"Blubber",uncookable:!0,health:10,hunger:10,sanity:0,perish:f,stack:10,dlc:"shipwrecked"},seaweed:{name:"Seaweed",ideal:!0,veggie:1,health:1,hunger:9.375,sanity:-10,perish:g,stack:40,dry:"seaweed_dried",drytime:t,dlc:"shipwrecked"},seaweed_cooked:{name:"Roasted Seaweed",veggie:1,health:3,hunger:9.375,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},seaweed_dried:{name:"Dried Seaweed",veggie:1,health:3,hunger:12.5,sanity:0,perish:D,stack:40,dlc:"shipwrecked"},sweet_potato:{name:"Sweet Potato",
veggie:1,health:1,hunger:12.5,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},sweet_potato_cooked:{name:"Cooked Sweet Potato",veggie:1,health:3,hunger:12.5,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},coffeebeans:{name:"Coffee Beans",fruit:.5,health:0,hunger:9.375,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},coffeebeans_cooked:{name:"Roasted Coffee Beans",ideal:!0,fruit:1,health:0,hunger:9.375,sanity:-5,perish:n,stack:40,note:"Gives 5 bonus speed (+83%) for 30 seconds",dlc:"shipwrecked"},coconut:{name:"Coconut",
fruit:1,fat:1,health:0,hunger:4.6875,sanity:0,perish:D,stack:40,dlc:"shipwrecked"},coconut_halved:{name:"Halved Coconut",basename:"Coconut.",uncookable:!0,fruit:1,fat:1,health:1,hunger:4.6875,sanity:0,perish:f,stack:40,cook:"coconut_cooked",dlc:"shipwrecked"},coconut_cooked:{name:"Roasted Coconut",fruit:1,fat:1,health:1,hunger:9.375,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},doydoyegg:{name:"Doydoy Egg",egg:1,health:3,hunger:25,sanity:0,perish:f,dlc:"shipwrecked"},doydoyegg_cooked:{name:"Fried Doydoy Egg",
egg:1,health:0,hunger:37.5,sanity:0,perish:g,dlc:"shipwrecked"},tropical_fish:{name:"Tropical Fish",skip:!0,ismeat:!0,meat:.5,fish:1,health:1,hunger:12.5,sanity:0,perish:r,stack:40,cook:"fish_raw_small_cooked",dry:"morsel_dried",drytime:t,dlc:"shipwrecked"},fish_raw:{name:"Raw Fish",meat:.5,fish:1,health:1,hunger:25,sanity:0,perish:r,stack:40,cook:"fish_med_cooked",dry:"meat_dried",drytime:t,dlc:"shipwrecked"},fish_med:{name:"Dead Dogfish",meat:.5,fish:1,health:1,hunger:25,sanity:0,perish:g,stack:40,
rot:"spoiled_fish",dry:"meat_dried",drytime:t,dlc:"shipwrecked"},dead_swordfish:{name:"Swordfish",uncookable:!0,health:1,hunger:25,sanity:0,perish:g,stack:40,cook:"fish_med_cooked",rot:"spoiled_fish",dry:"meat_dried",drytime:t,dlc:"shipwrecked"},fish_med_cooked:{name:"Fish Steak",meat:.5,fish:1,health:20,hunger:25,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},shark_fin:{name:"Shark Fin",meat:.5,fish:1,health:20,hunger:25,sanity:-15,perish:g,stack:10,dlc:"shipwrecked"},limpets:{name:"Limpets",ideal:!0,
fish:.5,health:0,hunger:12.5,sanity:-10,perish:g,stack:40,dlc:"shipwrecked"},limpets_cooked:{name:"Cooked Limpets",fish:.5,health:1,hunger:12.5,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},mussel:{name:"Mussel",fish:.5,health:0,hunger:12.5,sanity:-10,perish:r,stack:40,dlc:"shipwrecked"},mussel_cooked:{name:"Cooked Mussel",fish:.5,health:1,hunger:12.5,sanity:0,perish:r,stack:40,dlc:"shipwrecked"},mysterymeat:{name:"Bile-Covered Slop",uncookable:!0,health:-1,hunger:-10,sanity:0,stack:20,dlc:"shipwrecked"},
jellyfish:{name:"Jellyfish",fish:1,jellyfish:1,monster:1,perish:1.5*p,stack:40,dlc:"shipwrecked"},jellyfish_dead:{name:"Dead Jellyfish",basename:"Jellyfish.",fish:1,jellyfish:1,monster:1,health:10,hunger:10,sanity:0,perish:g,stack:20,cook:"jellyfish_cooked",dry:"jellyfish_dried",drytime:t,dlc:"shipwrecked"},jellyfish_cooked:{name:"Cooked Jellyfish",fish:1,jellyfish:1,monster:1,health:10,hunger:18.75,sanity:0,perish:f,stack:20,dlc:"shipwrecked"},jellyfish_dried:{name:"Dried Jellyfish",fish:1,jellyfish:1,
monster:1,health:10,hunger:18.75,sanity:0,perish:D,stack:20,dlc:"shipwrecked"},lobster:{name:"Wobster",fish:2,perish:2*t,dlc:"shipwrecked"},lobster_dead:{name:"Dead Wobster",basename:"Wobster.",uncookable:!0,health:1,hunger:12.5,sanity:0,perish:r,stack:10,cook:"lobster_cooked",dlc:"shipwrecked"},lobster_cooked:{name:"Delicious Wobster",uncookable:!0,health:1,hunger:12.5,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},crab:{name:"Crab",skip:!0,fish:.5,perish:2*t,cook:"fish_raw_small_cooked",dlc:"shipwrecked"},
fish_raw_small:{name:"Fish Morsel",fish:.5,health:1,hunger:12.5,perish:r,sanity:0,stack:40,dry:"morsel_dried",drytime:t,dlc:"shipwrecked"},fish_raw_small_cooked:{name:"Cooked Fish Morsel",fish:.5,health:1,hunger:12.5,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},tigereye:{name:"Eye of the Tiger Shark",uncookable:!0,health:60,hunger:75,sanity:-15,stack:10,dlc:"shipwrecked"},dragoonheart:{name:"Dragoon Heart",uncookable:!0,health:11,hunger:25,sanity:-10,perish:f,stack:10,note:"Gives 90 seconds of light",
dlc:"shipwrecked"},wormlight_lesser:{name:"Lesser Glowberry",uncookable:!0,health:3,hunger:12.5,sanity:-10,perish:r,stack:40,note:"Gives 22.5 seconds of light",dlc:"together"},phlegm:{name:"Phlegm",uncookable:!0,health:0,hunger:12.5,sanity:-15,perish:r,stack:40,dlc:"together"}},oa=function(){return this.op+this.qty},pa={"=":function(a){return a===this.qty},">":function(a){return a>this.qty},"<":function(a){return a<this.qty},">=":function(a){return a>=this.qty},"<=":function(a){return a<=this.qty}},
V={test:function(a){return!!a},toString:function(){return""}},p=function(a,d){return{op:a,qty:d,test:pa[a],toString:oa}},qa=function(a,d,b){return this.item1.test(a,d,b)&&this.item2.test(a,d,b)},ra=function(){return this.item1+" and "+this.item2},sa=function(a,d,b){return this.item1.test(a,d,b)||this.item2.test(a,d,b)},ta=function(){return this.item1+" or "+this.item2},E=function(a,d){return{item1:a,item2:d,test:sa,toString:ta,cancel:a.cancel||d.cancel}},ua=function(a,d,b){return!this.item.test(a,
d,b)},va=function(){return this.item.toString().substring(0,this.item.toString().length-1)+"|strike]"},l=function(a){return{item:a,test:ua,toString:va,cancel:!0}},wa=function(a,d,b){return(d[this.name]||0)+(d[this.name+"_cooked"]||0)},xa=function(){return"[*"+m[this.name].name+"|"+m[this.name].img+" "+m[this.name].name+"]"+(m[this.name].cook?"[*"+m[this.name].cook.name+"|"+m[this.name].cook.img+"]":"")+(m[this.name].raw?"[*"+m[this.name].raw.name+"|"+m[this.name].raw.img+"]":"")+(this.qty?this.qty:
"")},x=function(a,d){return{name:a,qty:d||V,test:wa,toString:xa}},ya=function(a,d,b){return d[this.name]},za=function(){return"[*"+m[this.name].name+"|"+m[this.name].img+" "+m[this.name].name+"]"+(this.qty?this.qty:"")},q=function(a,d){return{name:a,qty:d||V,test:ya,toString:za}},Aa=function(a,d,b){return b[this.tag]},Ba=function(){return"[tag:"+this.tag+"|"+this.tag+"]"+(this.qty?this.qty:"")},e=function(a,d){return{tag:a,qty:d||V,test:Aa,toString:Ba}},k={butterflymuffin:{name:"Butter Muffin",test:function(a,
d,b){return d.butterflywings&&!b.meat&&b.veggie},requires:"Butterfly Wings, veggie",requirements:[x("butterflywings"),l(e("meat")),e("veggie")],priority:1,weight:1,foodtype:"veggie",health:20,hunger:37.5,perish:n,sanity:5,cooktime:2},frogglebunwich:{name:"Froggle Bunwich",test:function(a,d,b){return(d.froglegs||d.froglegs_cooked)&&b.veggie},requirements:[x("froglegs"),e("veggie")],priority:1,foodtype:"meat",health:20,hunger:37.5,perish:n,sanity:5,cooktime:2},taffy:{name:"Taffy",test:function(a,d,
b){return b.sweetener&&3<=b.sweetener&&!b.meat},requirements:[e("sweetener",p(">=",3)),l(e("meat"))],priority:10,foodtype:"veggie",health:-3,hunger:25,perish:n,sanity:15,cooktime:2,tags:["honeyed"]},pumpkincookie:{name:"Pumpkin Cookie",test:function(a,d,b){return(d.pumpkin||d.pumpkin_cooked)&&b.sweetener&&2<=b.sweetener},requirements:[x("pumpkin"),e("sweetener",p(">=",2))],priority:10,foodtype:"veggie",health:0,hunger:37.5,perish:f,sanity:15,cooktime:2,tags:["honeyed"]},stuffedeggplant:{name:"Stuffed Eggplant",
test:function(a,d,b){return(d.eggplant||d.eggplant_cooked)&&b.veggie&&1<b.veggie},requirements:[x("eggplant"),e("veggie",p(">",1))],priority:1,foodtype:"veggie",health:3,hunger:37.5,perish:n,sanity:5,temperature:40,temperatureduration:5,cooktime:2},fishsticks:{name:"Fishsticks",test:function(a,d,b){return b.fish&&d.twigs&&b.inedible&&1>=b.inedible},requirements:[e("fish"),q("twigs"),e("inedible"),e("inedible",p("<=",1))],priority:10,foodtype:"meat",health:40,hunger:37.5,perish:f,sanity:5,cooktime:2},
honeynuggets:{name:"Honey Nuggets",test:function(a,d,b){return d.honey&&b.meat&&1.5>=b.meat&&!b.inedible},requirements:[q("honey"),e("meat",p("<=",1.5)),l(e("inedible"))],priority:2,foodtype:"meat",health:20,hunger:37.5,perish:n,sanity:5,cooktime:2,tags:["honeyed"]},honeyham:{name:"Honey Ham",test:function(a,d,b){return d.honey&&b.meat&&1.5<b.meat&&!b.inedible},requirements:[q("honey"),e("meat",p(">",1.5)),l(e("inedible"))],priority:2,foodtype:"meat",health:30,hunger:75,perish:n,sanity:5,temperature:40,
temperatureduration:10,cooktime:2,tags:["honeyed"]},dragonpie:{name:"Dragonpie",test:function(a,d,b){return(d.dragonfruit||d.dragonfruit_cooked)&&!b.meat},requirements:[x("dragonfruit"),l(e("meat"))],priority:1,foodtype:"veggie",health:40,hunger:75,perish:n,sanity:5,temperature:40,temperatureduration:10,cooktime:2},kabobs:{name:"Kabobs",test:function(a,d,b){return b.meat&&d.twigs&&(!b.monster||1>=b.monster)&&b.inedible&&1>=b.inedible},requirements:[e("meat"),q("twigs"),E(l(e("monster")),e("monster",
p("<=",1))),e("inedible"),e("inedible",p("<=",1))],priority:5,foodtype:"meat",health:3,hunger:37.5,perish:n,sanity:5,cooktime:2},mandrakesoup:{name:"Mandrake Soup",test:function(a,d,b){return d.mandrake},requirements:[q("mandrake")],priority:10,foodtype:"veggie",health:100,hunger:150,perish:g,sanity:5,cooktime:3},baconeggs:{name:"Bacon and Eggs",test:function(a,d,b){return b.egg&&1<b.egg&&b.meat&&1<b.meat&&!b.veggie},requirements:[e("egg",p(">",1)),e("meat",p(">",1)),l(e("veggie"))],priority:10,foodtype:"meat",
health:20,hunger:75,perish:D,sanity:5,cooktime:2},meatballs:{name:"Meatballs",test:function(a,d,b){return b.meat&&!b.inedible},requirements:[e("meat"),l(e("inedible"))],priority:-1,foodtype:"meat",health:3,hunger:62.5,perish:f,sanity:5,cooktime:.75},bonestew:{name:"Meaty Stew",test:function(a,d,b){return b.meat&&3<=b.meat&&!b.inedible},requirements:[e("meat",p(">=",3)),l(e("inedible"))],priority:0,foodtype:"meat",health:12,hunger:150,perish:f,sanity:5,temperature:40,temperatureduration:15,cooktime:.75},
perogies:{name:"Pierogi",test:function(a,d,b){return b.egg&&b.meat&&b.veggie&&!b.inedible},requirements:[e("egg"),e("meat"),e("veggie"),l(e("inedible"))],priority:5,foodtype:"meat",health:40,hunger:37.5,perish:D,sanity:5,temperature:40,temperatureduration:10,cooktime:1},turkeydinner:{name:"Turkey Dinner",test:function(a,d,b){return d.drumstick&&1<d.drumstick&&b.meat&&1<b.meat&&(b.veggie||b.fruit)},requirements:[q("drumstick",p(">",1)),e("meat",p(">",1)),E(e("veggie"),e("fruit"))],priority:10,foodtype:"meat",
health:20,hunger:75,perish:g,sanity:5,temperature:40,temperatureduration:10,cooktime:3},ratatouille:{name:"Ratatouille",test:function(a,d,b){return!b.meat&&b.veggie&&!b.inedible},requirements:[l(e("meat")),e("veggie"),l(e("inedible"))],priority:0,foodtype:"veggie",health:3,hunger:25,perish:n,sanity:5,temperature:-40,temperatureduration:5,cooktime:1},jammypreserves:{name:"Fist Full of Jam",test:function(a,d,b){return b.fruit&&!b.meat&&!b.veggie&&!b.inedible},requirements:[e("fruit"),l(e("meat")),l(e("veggie")),
l(e("inedible"))],priority:0,foodtype:"veggie",health:3,hunger:37.5,perish:n,sanity:5,cooktime:.5},fruitmedley:{name:"Fruit Medley",test:function(a,d,b){return b.fruit&&3<=b.fruit&&!b.meat&&!b.veggie},requirements:[e("fruit",p(">=",3)),l(e("meat")),l(e("veggie"))],priority:0,foodtype:"veggie",health:20,hunger:25,perish:g,sanity:5,temperature:-40,temperatureduration:5,cooktime:.5},fishtacos:{name:"Fish Tacos",test:function(a,d,b){return b.fish&&(d.corn||d.corn_cooked)},requirements:[e("fish"),x("corn")],
priority:10,foodtype:"meat",health:20,hunger:37.5,perish:g,sanity:5,cooktime:.5,tags:["monstermeat"]},waffles:{name:"Waffles",test:function(a,d,b){return d.butter&&(d.berries||d.berries_cooked)&&b.egg},requirements:[q("butter"),x("berries"),e("egg")],priority:10,foodtype:"veggie",health:60,hunger:37.5,perish:g,sanity:5,cooktime:.5},monsterlasagna:{name:"Monster Lasagna",test:function(a,d,b){return b.monster&&2<=b.monster&&!b.inedible},requirements:[e("monster",p(">=",2)),l(e("inedible"))],priority:10,
foodtype:"meat",health:-20,hunger:37.5,perish:g,sanity:-20,cooktime:.5},powcake:{name:"Powdercake",test:function(a,d,b){return d.twigs&&d.honey&&(d.corn||d.corn_cooked)},requirements:[q("twigs"),q("honey"),x("corn")],priority:10,foodtype:"veggie",health:-3,hunger:0,perish:9E6,sanity:0,cooktime:.5,tags:["honeyed"]},unagi:{name:"Unagi",test:function(a,d,b){return d.cutlichen&&(d.eel||d.eel_cooked)},requirements:[q("cutlichen"),x("eel")],priority:20,foodtype:"veggie",health:20,hunger:18.75,perish:f,
sanity:5,cooktime:.5},wetgoop:{name:"Wet Goop",test:function(a,d,b){return!0},requirements:[],trash:!0,priority:-2,health:0,hunger:0,perish:g,sanity:0,cooktime:.25},flowersalad:{name:"Flower Salad",test:function(a,d,b){return d.cactusflower&&b.veggie&&2<=b.veggie&&!b.meat&&!b.inedible&&!b.egg&&!b.sweetener&&!b.fruit},requirements:[q("cactusflower"),e("veggie",p(">=",2)),l(e("meat")),l(e("inedible")),l(e("egg")),l(e("sweetener")),l(e("fruit"))],priority:10,foodtype:"veggie",health:40,hunger:12.5,perish:g,
sanity:5,cooktime:.5,dlc:"giants"},icecream:{name:"Ice Cream",test:function(a,d,b){return b.frozen&&b.dairy&&b.sweetener&&!b.meat&&!b.veggie&&!b.inedible&&!b.egg},requirements:[e("frozen"),e("dairy"),e("sweetener"),l(e("meat")),l(e("veggie")),l(e("inedible")),l(e("egg"))],priority:10,foodtype:"veggie",health:0,hunger:25,perish:r,sanity:50,temperature:-40,temperatureduration:15,cooktime:.5,dlc:"giants"},watermelonicle:{name:"Melonsicle",test:function(a,d,b){return d.watermelon&&b.frozen&&d.twigs&&
!b.meat&&!b.veggie&&!b.egg},requirements:[q("watermelon"),e("frozen"),q("twigs"),l(e("meat")),l(e("veggie")),l(e("egg"))],priority:10,foodtype:"veggie",health:3,hunger:12.5,perish:r,sanity:20,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"giants"},trailmix:{name:"Trail Mix",test:function(a,d,b){return d.acorn_cooked&&b.seed&&1<=b.seed&&(d.berries||d.berries_cooked)&&b.fruit&&1<=b.fruit&&!b.meat&&!b.veggie&&!b.egg&&!b.dairy},requirements:[q("acorn_cooked"),e("seed",p(">=",1)),x("berries"),
e("fruit",p(">=",1)),l(e("meat")),l(e("veggie")),l(e("egg")),l(e("dairy"))],priority:10,foodtype:"veggie",health:30,hunger:12.5,perish:n,sanity:5,cooktime:.5,dlc:"giants"},hotchili:{name:"Spicy Chili",test:function(a,d,b){return b.meat&&b.veggie&&1.5<=b.meat&&1.5<=b.veggie},requirements:[e("meat",p(">=",1.5)),e("veggie",p(">=",1.5))],priority:10,foodtype:"meat",health:20,hunger:37.5,perish:f,sanity:0,temperature:40,temperatureduration:15,cooktime:.5,dlc:"giants"},guacamole:{name:"Guacamole",test:function(a,
d,b){return d.mole&&d.cactusmeat&&!b.fruit},requirements:[q("mole"),q("cactusmeat"),l(e("fruit"))],priority:10,foodtype:"meat",health:20,hunger:37.5,perish:f,sanity:0,cooktime:.5,dlc:"giants"},californiaroll:{name:"California Roll",test:function(a,d,b){return d.seaweed&&2==d.seaweed&&b.fish&&1<=b.fish},requirements:[q("seaweed",p("==",2)),e("fish",p(">=",1))],priority:20,foodtype:"meat",health:20,hunger:50,perish:f,sanity:10,cooktime:.5,dlc:"shipwrecked"},seafoodgumbo:{name:"Seafood Gumbo",test:function(a,
d,b){return b.fish&&2<b.fish},requirements:[e("fish",p(">",2))],priority:10,foodtype:"meat",health:40,hunger:37.5,perish:f,sanity:20,cooktime:1,dlc:"shipwrecked"},bisque:{name:"Bisque",test:function(a,d,b){return d.limpets&&3==d.limpets&&b.frozen},requirements:[q("limpets",p("==",3)),e("frozen")],priority:30,foodtype:"meat",health:60,hunger:18.75,perish:f,sanity:5,cooktime:1,dlc:"shipwrecked"},ceviche:{name:"Ceviche",test:function(a,d,b){return b.fish&&2<=b.fish&&b.frozen},requirements:[e("fish",
p(">=",2)),e("frozen")],priority:20,foodtype:"meat",health:20,hunger:25,perish:f,sanity:5,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"shipwrecked"},jellyopop:{name:"Jelly-O Pop",test:function(a,d,b){return b.jellyfish&&b.frozen&&b.inedible},requirements:[e("jellyfish"),e("frozen"),e("inedible")],priority:20,foodtype:"meat",health:20,hunger:12.5,perish:r,sanity:0,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"shipwrecked"},bananapop:{name:"Banana Pop",test:function(a,d,b){return d.cavebanana&&
b.frozen&&b.inedible&&!b.meat&&!b.fish},requirements:[q("cavebanana"),e("frozen"),e("inedible"),l(e("meat")),l(e("fish"))],priority:20,foodtype:"veggie",health:20,hunger:12.5,perish:r,sanity:33,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"shipwrecked"},lobsterbisque:{name:"Lobster Bisque",test:function(a,d,b){return d.lobster&&b.frozen},requirements:[q("lobster"),e("frozen")],priority:30,foodtype:"meat",health:60,hunger:25,perish:f,sanity:10,cooktime:.5,dlc:"shipwrecked"},lobsterdinner:{name:"Lobster Dinner",
test:function(a,d,b){return d.lobster&&d.butter&&!b.meat&&!b.frozen},requirements:[q("lobster"),q("butter"),l(e("meat")),l(e("frozen"))],priority:25,foodtype:"meat",health:60,hunger:37.5,perish:n,sanity:50,cooktime:1,dlc:"shipwrecked"},sharkfinsoup:{name:"Shark Fin Soup",test:function(a,d,b){return d.shark_fin},requirements:[q("shark_fin")],priority:20,foodtype:"meat",health:40,hunger:12.5,perish:f,sanity:-10,cooktime:.5,note:"Gives 10 naughtiness",dlc:"shipwrecked"},surfnturf:{name:"Surf 'n' Turf",
test:function(a,d,b){return b.meat&&2.5<=b.meat&&b.fish&&1.5<=b.fish&&!b.frozen},requirements:[e("meat",p(">=",2.5)),e("fish",p(">=",1.5)),l(e("frozen"))],priority:30,foodtype:"meat",health:60,hunger:37.5,perish:f,sanity:33,cooktime:.5,dlc:"shipwrecked"},coffee:{name:"Coffee",test:function(a,d,b){return d.coffeebeans_cooked&&(4==d.coffeebeans_cooked||3==d.coffeebeans_cooked&&(b.dairy||b.sweetener))},requirements:[E(q("coffeebeans_cooked",p("==",4)),function(a,d){return{item1:a,item2:d,test:qa,toString:ra,
cancel:a.cancel&&d.cancel}}(q("coffeebeans_cooked",p("==",3)),E(e("dairy"),e("sweetener"))))],priority:30,foodtype:"veggie",health:3,hunger:9.375,perish:f,sanity:-5,cooktime:.5,note:"Gives 5 bonus speed (+83%) for 0.5 days",dlc:"shipwrecked"}},O=function(){var a,d,b=/^tag[: ]/,c=/^tag:? */,e=/^tagnot[: ]/,f=/^tagnot:? */,w,K=/^recipe[: ]/,g=/^recipe:? */,h,l=/^ingredient[: ]/,Ca=/^ingredient:? */,H,ha,y=!1,B=function(b){!y&&b.uncookable||0===(b.dlcMask&C)?b.match=0:0===b.lowerName.indexOf(a)||b.raw&&
0===b.raw.lowerName.indexOf(a)?b.match=3:0===ha.test(b.lowerName)?b.match=2:H.test(b.lowerName)?b.match=1:b.match=0;return b.match},p=function(a){return a.match=a[d]+0||0},t=function(a){for(var b=0,d,c=!0;b<w.length;){d=w[b].test(null,a.nameObject,a);if(w[b].cancel){if(!d){c=!0;break}}else d&&(c=!1);b++}return a.match=c?0:1},u=function(a){for(var b=0,d,c=!0;b<a.requirements.length;){d=a.requirements[b].test(null,h.nameObject,h);if(a.requirements[b].cancel){if(!d){c=!0;break}}else d&&(c=!1);b++}return a.match=
c?0:1},r=function(b){return b.match=b.lowerName===a?1:0},F=function(b){return b.match=b.lowerName===a||b.raw&&b.raw.lowerName===a||b.cook&&b.cook.lowerName===a?1:0},n=function(a,b){var d,c;return a.match===b.match?(d=a.basename?a.basename:a.name,c=b.basename?b.basename:b.name,d!==c?d>c?1:d<c?-1:0:a.name===b.name?0:a.raw===b?1:-1):b.match-a.match};return function(z,q,G){y=!!G;a=q.toLowerCase();if(b.test(a))return d=a.split(c)[1],z.filter(p).sort(n);if(e.test(a))return d=a.split(f)[1],z.filter(function(a){return!p(a)}).sort(n);
if(K.test(a))return(w=k.byName(a.split(g)[1].toLowerCase()))?(w=w.requirements,z.filter(t).sort(n)):[];if(l.test(a))return(h=m.byName(a.split(Ca)[1].toLowerCase()))?z.filter(u).sort(n):[];if(0===a.indexOf("*"))return a=a.substring(1),z.filter(r).sort(n);if(0===a.indexOf("~"))return a=a.substring(1),z.filter(F).sort(n);ha=new RegExp("\\b"+a+".*");H=new RegExp("\\b"+a.split("").join(".*")+".*");return z.filter(B).sort(n)}}(),R=function(a,d,b){var c,e,f;for(c=0;c<a.length;c++)if(f=a[c],null!==f)for(e in d[f.id]=
1+(d[f.id]||0),f)f.hasOwnProperty(e)&&"perish"!==e&&!isNaN(f[e])?b[e]=f[e]+(b[e]||0):"perish"===e&&(b[e]=Math.min(b[e]||D,f[e]))},ia=function(){var a,d;return function(b,c,e,f){var w,K;b.length=0;a={};d={};R(c,a,d);d.hunger=d.bestHunger;d.health=d.bestHealth;c=0;a:for(;c<k.length;c++)if(K=!1,0!==(k[c].dlcMask&C)){for(w=0;w<k[c].requirements.length;w++)if(k[c].requirements[w].test(null,a,d))k[c].requirements[w].cancel||(K=!0);else if(!f&&k[c].requirements[w].cancel)continue a;else if(f&&!k[c].requirements[w].cancel)continue a;
!K||e&&-1!==e.indexOf(k[c])||b.push(k[c])}d.img="";d.name="Combined";return b}}(),Da=function(){var a=[],d,b;return function(c){a.length=0;d={};b={};R(c,d,b);b.hunger=b.bestHunger;b.health=b.bestHealth;for(c=0;c<k.length;c++)k[c].test(null,d,b)&&0!==(k[c].dlcMask&C)&&a.push(k[c]);a.sort(function(a,b){return b.priority-a.priority});b.img="";b.name="Combined";b.priority=" ";b.perish=0;b.cooktime=0;a.unshift(b);return a}}(),N=function(){var a=document.createElement("canvas"),d=a.getContext&&a.toDataURL&&
a.getContext("2d"),b=document.createElement("canvas"),c=b.getContext&&b.getContext("2d"),e={},f={},w=!!d,K=[],k=function(g){var k=function(g,k){d.clearRect(0,0,64,64);d.drawImage(k,0,0,64,64);c.clearRect(0,0,32,32);c.drawImage(k,0,0,32,32);try{e[g]=a.toDataURL(),f[g]=b.toDataURL()}catch(h){w=!1}K.filter(function(a){return a.url===g}).forEach(function(a){a.url===g&&(delete a.img.dataset.pending,P&&a.img.removeAttribute("data-pending"),a.img.src=32===a.d?f[g]||g:e[g]||g)});K=K.filter(function(a){return a.url!==
g})};return function(a){k(g,a.target)}},g=function(a,b,d){a.dataset.pending=b;P&&a.setAttribute("data-pending",b);K.push({url:b,img:a,d:d})},h=function(a,b){var d=new Image,c;w?e[a]?d.src=32===b?f[a]:e[a]:(null!==e[a]&&(e[a]=null,c=new Image,c.addEventListener("load",k(a),!1),c.src=a),g(d,a,b)):d.src=a;return d};a.width=64;a.height=64;b.width=32;b.height=32;h.queue=g;return h}(),W=function(){var a=/\[([^\|]*)\|([^\|\]]*)\|?([^\|\]]*)\]/,d=/([^\|]\]\[[^\|]+\|[^\|\]]+)\|?([^\|\](?:left)]*)(?=\])/g,
b=/(\[[^\|]+\|[^\|\]]+)\|?([^\|\]]*)(?=\]\[)(?!\]\[\|)/g,c=function(a,b,d){return b+"|"+(0===d.length?"left":d+" left")},e=function(a,b,d){return b+"|"+(0===d.length?"right":d+" right")},f=/_(\w)/g,w=function(a,b){return" "+b.toUpperCase()};return function(g){var k=g&&g.replace(d,c).replace(d,c).replace(b,e);g=k&&k.split(a);var h,l,m,H;if(g&&1!==g.length)for(k=document.createDocumentFragment(),k.appendChild(document.createTextNode(g[0])),h=1;h<g.length;h+=4)""===g[h]&&""===g[h+1]?k.appendChild(document.createElement("br")):
(l=document.createElement("span"),l.className=""===g[h+2]?"link":"link "+g[h+2],l.dataset.link=g[h],P&&l.setAttribute("data-link",g[h]),g[h+1]&&0===g[h+1].indexOf("img/")?(l.appendChild(document.createTextNode(g[h+1].split(" ").slice(1).join(" "))),m=g[h+1].split(" ")[0],H=N(m,32),H.title=(m.substr(4,1).toUpperCase()+m.substr(5).replace(f,w)).split(".")[0],l.appendChild(H)):l.appendChild(document.createTextNode(g[h+1]?g[h+1]:g[h])),k.appendChild(l)),k.appendChild(document.createTextNode(g[h+3]));
return k}}(),h,r=0,ja=document.getElementById("main"),Ea=document.getElementById("food"),Fa=document.getElementById("recipes"),ca=document.getElementById("navbar"),P=!1;document.documentElement.dataset||(P=!0,Object.defineProperty(Element.prototype,"dataset",{get:function(){this.ds||(this.ds={},Array.prototype.forEach.call(this.attributes,function(a){0===a.name.indexOf("data-")&&(this.ds[a.name.substring(5)]=a.value)},this));return this.ds}}));document.getElementById("stalehealth").appendChild(document.createTextNode(Math.round(333)/
10+"%"));document.getElementById("stalehunger").appendChild(document.createTextNode(Math.round(667)/10+"%"));document.getElementById("spoiledhunger").appendChild(document.createTextNode(Math.round(500)/10+"%"));document.getElementById("spoiledsanity").appendChild(document.createTextNode(10));document.getElementById("perishground").appendChild(document.createTextNode(Math.round(1500)/10+"%"));document.getElementById("perishwinter").appendChild(document.createTextNode(Math.round(750)/10+"%"));document.getElementById("perishsummer").appendChild(document.createTextNode(Math.round(1250)/
10+"%"));document.getElementById("perishfridge").appendChild(document.createTextNode(Math.round(500)/10+"%"));g=function(a,d){return"[tag:"+a+"|"+(d||a)+"]"};for(h in m)if(m.hasOwnProperty(h)){var c=m[h];c.match=0;c.lowerName=c.name.toLowerCase();c.id=h;c.nameObject={};c.nameObject[h]=1;c.img="img/"+c.name.replace(/ /g,"_").replace(/'/g,"").toLowerCase()+".png";m[h+"_cooked"]&&(c.cook=m[h+"_cooked"]);"string"===typeof c.cook&&(c.cook=m[c.cook]);c.cook&&(c.cook.raw=c,c.cook.cooked=!0,c.cook.basename||
(c.cook.basename=(c.basename||c.name)+"."));"string"===typeof c.dry&&(c.dry=m[c.dry]);c.dry&&!c.dry.rackdried&&(c.dry.wet=c,c.dry.rackdried=!0,c.dry.basename||(c.dry.basename=(c.basename||c.name)+"."));f=c.health||0;n=c.hunger||0;c.cook&&(f=Math.max(c.cook.health||0,f),n=Math.max(c.cook.hunger||0,n));c.dry&&(f=Math.max(c.dry.health||0,f),n=Math.max(c.dry.hunger||0,n));c.raw&&(f=Math.max(c.raw.health||0,f),n=Math.max(c.raw.hunger||0,n),c.raw.dry&&(f=Math.max(c.raw.dry.health||0,f),n=Math.max(c.raw.dry.hunger||
0,n)));c.wet&&(f=Math.max(c.wet.health||0,f),n=Math.max(c.wet.hunger||0,n),c.wet.cook&&(f=Math.max(c.wet.cook.health||0,f),n=Math.max(c.wet.cook.hunger||0,n)));c.bestHealth=f;c.bestHunger=n;c.info=[];f=c.info;c.fruit&&f.push(g("fruit")+(1===c.fruit?"":"\u00d7"+c.fruit));c.veggie&&f.push(g("veggie","vegetable")+(1===c.veggie?"":"\u00d7"+c.veggie));c.meat&&f.push(g("meat")+(1===c.meat?"":"\u00d7"+c.meat));c.egg&&f.push(g("egg")+(1===c.egg?"":"\u00d7"+c.egg));c.fish&&f.push(g("fish")+(1===c.fish?"":
"\u00d7"+c.fish));c.magic&&f.push(g("magic"));c.decoration&&f.push(g("decoration"));c.inedible&&f.push(g("inedible"));c.monster&&f.push(g("monster","monster food"));c.sweetener&&f.push(g("sweetener"));c.fat&&f.push(g("fat"));c.dairy&&f.push(g("dairy"));c.comment&&f.push(c.comment);m[r++]=c}m.length=r;r=0;for(h in k)k.hasOwnProperty(h)&&(k[h].match=0,k[h].name=k[h].name||h,k[h].id=h,k[h].lowerName=k[h].name.toLowerCase(),k[h].weight=k[h].weight||1,k[h].priority=k[h].priority||0,k[h].img="img/"+k[h].name.replace(/ /g,
"_").replace(/'/g,"").toLowerCase()+".png",k[h].requirements&&(k[h].requires=W(k[h].requirements.join("; ")+(k[h].dlc?"; [tag:"+k[h].dlc+"|img/"+v[k[h].dlc].img+"]":""))),k[h].dlc?k[h][k[h].dlc]=!0:(k[h].vanilla=!0,k[h].dlc="vanilla"),k[h].dlcMask=v[k[h].dlc].bit,k[h].temperature&&(k[h].note=k[h].note?k[h].note+"; ":"",k[h].note+="Provides "+k[h].temperature+" heat for "+k[h].temperatureduration+" seconds"),k[r++]=k[h]);k.length=r;k.forEach=Array.prototype.forEach;k.filter=Array.prototype.filter;
k.sort=Array.prototype.sort;k.byName=function(a){for(var d=this.length;d--;)if(this[d].lowerName===a)return this[d]};var r=function(a,d){return a+"[recipe:"+d.name+"|"+d.img+"]"},da=function(a,d,b){return 1===d?a:a+(b||"s")};for(h=0;h<m.length;h++)c=m[h],f=c.info,c.cooked&&f.push("from [*"+c.raw.name+"|"+c.raw.img+"]"),c.cook&&(c.cook instanceof Object||(c.cook=m[c.cook]),f.push("cook: [*"+c.cook.name+"|"+c.cook.img+"]")),c.dry&&(c.dry instanceof Object||(c.dry=m[c.dry]),f.push("dry in "+c.drytime/
t+" "+da("day",c.drytime/t)+": [*"+c.dry.name+"|"+c.dry.img+"]")),c.dlc?(c[c.dlc]=!0,f.push("requires [tag:"+c.dlc+"|img/"+v[c.dlc].img+"]")):(c.vanilla=!0,c.dlc="vanilla"),c.dlcMask=v[c.dlc].bit,c.info=f.join("; "),c.uncookable?c.info+=(c.info?"[|]":"")+"cannot be added to crock pot":(c.recipes=[],k.forEach(function(a){for(var d=!1,b=a.requirements,e=b.length;e--;)if(b[e].test(null,c.nameObject,c))b[e].cancel||d||(d=!0);else if(b[e].cancel){d=!1;break}d&&c.recipes.push(a)}),0<c.recipes.length&&(c.ingredient=
!0,c.info+=c.recipes.reduce(r,"[|][ingredient:"+c.name+"|Recipes] "))),c.note&&(c.info+="[|]"+c.note),c.info=W(c.info);m.forEach=Array.prototype.forEach;m.filter=Array.prototype.filter;m.sort=Array.prototype.sort;m.byName=function(a){for(var d=this.length;d--;)if(this[d].lowerName===a)return this[d]};var Ga=function(a,d,b){var c=b||[0,0,0,0],e,f=0,g=0;return function(b){for(var k;b--&&1<=a;){d(c);c[0]++;for(k=0;c[k]>=a;)k++,c[k]++;e=4;for(f=0;e--;)c[e]>=a?c[e]=f:c[e]>f&&(f=c[e]);if(4===k)return!1;
g++}return!0}};L=J=void 0;J=k.filter(function(a){return!a.trash}).sort(function(a,d){return d.priority-a.priority});L=J.map(function(a){return a.test});J.map(function(a){return a.test.toString()});J.map(function(a){return a.priority});var Ha=function(a,d,b,c){var e=L.length,f=[],g=0,k,h=60,l=function(b){return a[b]},m=Ga(a.length,function(a){a=a.map(l);var b,d=null,c={},g={},w=null,k=!1,h=L,ba=J;R(a,c,g);g.hunger=g.bestHunger;g.health=g.bestHealth;for(b=0;b<e&&(null===d||ba[b].priority>=d);b++)h[b](null,
c,g)&&(null!==w&&(k=!0,w.multiple=!0),w={recipe:ba[b],ingredients:a,tags:{health:g.health,hunger:g.hunger},multiple:k},f.push(w),d=ba[b].priority)}),n=function(){var a=!1,e=Date.now();for(m(h)?setTimeout(n,0):a=!0;g<f.length&&f[g];g++)d(f[g]);k!==Date.now()-e&&(k=Date.now()-e+1,h=38/k*h+1|0);b&&b();a&&c&&c()};n()},S;(function(){var a=ca.getElementsByTagName("li"),d={},b={},c,e,g=function(a){S(a.target.dataset.tab)},f;S=function(a){e.className="";e=d[a];c.style.display="none";c=b[a];e.className="selected";
c.style.display="block"};for(h=0;h<a.length;h++)f=a[h],f.dataset.tab&&(d[f.dataset.tab]=f,b[f.dataset.tab]=document.getElementById(f.dataset.tab),b[f.dataset.tab].style.display="none",f.addEventListener("selectstart",function(a){a.preventDefault()},!1),f.addEventListener("click",g,!1));e=d.simulator;c=b.simulator;window.localStorage&&localStorage.foodGuideState&&(a=JSON.parse(localStorage.foodGuideState),a.activeTab&&d[a.activeTab]&&(e=d[a.activeTab],c=b[a.activeTab],C=a.dlcMask||v.shipwrecked.mask));
e.className="selected";c.style.display="block";window.addEventListener("beforeunload",function(){var a;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.activeTab=e.dataset.tab,a.dlcMask=C,localStorage.foodGuideState=JSON.stringify(a))})})();var Ia=function(a){a.dataset.pending&&N.queue(a,a.dataset.pending,32)},ea=function(a){var d,b,c,e=document.createElement("tr"),f;for(d=1;d<arguments.length;d++)b=document.createElement(a),
f=(c=arguments[d])&&c.indexOf?c:c.toString(),c instanceof DocumentFragment?(b.appendChild(c.cloneNode(!0)),Array.prototype.forEach.call(b.getElementsByTagName("img"),Ia)):0===f.indexOf("img/")?(c=N(f),b.appendChild(c)):b.appendChild(document.createTextNode(f)),e.appendChild(b);return e},T=function(a,d,b,c,e,f,g,k,h,l){var m,n,H,p=!1,t,r,q,A=function(a,d,c){l&&!(q<l)||k&&!k(a)||(d=b(a),g&&g(a,c)&&(d.className="highlighted",t||(t=d),r=d),m.appendChild(d),q++)},u=function(b,c,g){var k,h;if(c||b&&""!==
b.target.dataset.sort||H){k=c||b&&b.target.dataset.sort||H;e&&(h=d.shift());"name"===k?d.sort(function(a,b){var d=a.basename?a.basename:a.name,c=b.basename?b.basename:b.name;return d!==c?d>c?1:d<c?-1:0:a.name===b.name?0:a.raw===b?1:-1}):d.sort(function(a,b){var d=a[k],c=b[k];return isNaN(d)||isNaN(c)?isNaN(d)&&isNaN(c)?0:isNaN(d)?1:-1:c-d});if(c||b)H===k?p=!p:(H=k,p=!1);p&&d.reverse();e&&d.unshift(h)}b=document.createElement("tr");for(n in a)c=document.createElement("th"),-1===n.indexOf(":")?c.appendChild(document.createTextNode(n)):
(c.appendChild(document.createTextNode(n.split(":")[0])),c.title=n.split(":")[1]),a[n]&&(a[n]===H&&(c.style.background=p?"#555":"#ccc",c.style.color=p?"#ccc":"#555",c.style.borderRadius="4px"),c.style.cursor="pointer",c.dataset.sort=a[n],c.addEventListener("click",u,!1)),b.appendChild(c);c=m;m=document.createElement("table");m.appendChild(b);r=t=null;q=0;d.forEach(A);f&&(m.className="links",Array.prototype.forEach.call(m.getElementsByClassName("link"),function(a){a.addEventListener("click",f,!1)}));
c&&c.parentNode.replaceChild(m,c);g&&(t&&t.offsetTop+m.offsetTop+ja.offsetTop+t.offsetHeight>window.scrollY+window.innerHeight?t.scrollIntoView(!0):r&&r.offsetTop+m.offsetTop+ja.offsetTop<window.scrollY&&r.scrollIntoView(!1))};c?u(null,c):u();m.update=function(a){u(null,null,a)};m.setMaxRows=function(a){l=a;this.update()};return m},A=function(a){return isNaN(a)?"":0<a?"+"+a:a},ka=function(a,d){return a<d?(d-a)/Math.abs(a):a>d?-(a-d)/Math.abs(a):0},fa=function(a,d){return isNaN(a)||a===d?"":" ("+A((100*
(a<d?(d-a)/Math.abs(a):a>d?-(a-d)/Math.abs(a):0)).toFixed(0))+"%)"},la=function(a){var d=A(a.health),b=A(a.hunger);if(a.cook||a.dry)d+=" ("+Math.max(a.health||0,a.cook?a.cook.health||0:0,a.dry?a.dry.health||0:0)+")",b+=" ("+Math.max(a.hunger||0,a.cook?a.cook.hunger||0:0,a.dry?a.dry.hunger||0:0)+")";return ea("td",a.img?a.img:"",a.name,d,b,isNaN(a.sanity)?"":A(a.sanity),isNaN(a.perish)?"Never":a.perish/t+" "+da("day",a.perish/t),a.info||"")},aa=function(a,d,b,c){return ea("td",a.img?a.img:"",a.name,
A(a.health)+fa(d,a.health),A(a.hunger)+fa(b,a.hunger),isNaN(a.sanity)?"":A(a.sanity)+fa(c,a.sanity),isNaN(a.perish)?"Never":a.perish/t+" "+da("day",a.perish/t),(a.cooktime*na+.5|0)+" secs",a.priority||"0",a.requires||"",a.note||"")};(function(){var a,d=[],b=[],c=function(a){return 0!==(a.dlcMask&C)},e=T({"":"",Name:"name",Health:"health",Hunger:"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish",Info:""},Array.prototype.slice.call(m),la,"name",!1,function(c){c=c.target?"IMG"===c.target.tagName?
c.target.parentNode.dataset.link:c.target.dataset.link:c;"recipe:"===c.substring(0,7)||"ingredient:"===c.substring(0,11)?(S("crockpot"),"recipe:"===c.substring(0,7)&&(c="*"+c.substring(7)),b=O(k,c),f.update(!0)):(a!==c?(a=c,d=O(m,c)):(a="",d.length=0),e.update(!0))},function(a){return-1!==d.indexOf(a)},c),f=T({"":"",Name:"name",Health:"health",Hunger:"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority",
"Requires:Dim, struck items cannot be used":"",Notes:""},Array.prototype.slice.call(k),aa,"name",!1,function(c){c=c.target?"IMG"===c.target.tagName?c.target.parentNode.dataset.link:c.target.dataset.link:c;var g=c.substring(c.indexOf(":")+1);v[g]?(b=O(k,c),f.update(!0)):(S("foodlist"),a=c,d=O(m,c),e.update(!0))},function(a){return-1!==b.indexOf(a)},c);Ea.appendChild(e);Fa.appendChild(f);Y.push(function(){e.update();f.update()})})();var Ja=function(a,d){return a+"[ingredient:"+m[d.id].name+"|"+m[d.id].img+
"]"},ma=function(a){var d=document.createElement("button");d.appendChild(document.createTextNode("Calculate efficient recipes (may take some time)"));d.className="makablebutton";d.addEventListener("click",function(){var b=[],c=a?a.length:null,e,f,g=[],h,l,n,p,t,r=[],q=[],y,B,v,D=function(a){return-1!==q.indexOf(a.id)},u=function(a){return-1!==this.indexOf(m[a])},C=function(a){-1!==q.indexOf(a.target.dataset.id)&&q.splice(q.indexOf(a.target.dataset.id),1);-1!==r.indexOf(a.target.dataset.id)?(r.splice(r.indexOf(a.target.dataset.id),
1),a.target.className=""):(r.push(a.target.dataset.id),a.target.className="selected");v.update()},F=function(a){-1!==r.indexOf(a.target.dataset.id)&&r.splice(r.indexOf(a.target.dataset.id),1);-1!==q.indexOf(a.target.dataset.id)?(q.splice(q.indexOf(a.target.dataset.id),1),a.target.className=""):(q.push(a.target.dataset.id),a.target.className="excluded");v.update();a.preventDefault()},x=[],z=[],E=function(a){f&&(f.className="");for(var b=0;b<z.length;b++)z[b].className="";x.length=0;z.length=0;e===
a.target.dataset.recipe?e=f=null:(e=a.target.dataset.recipe,f=a.target,a.target.className="selected");v.update()},G=function(a){f&&(f.className="",e=f=null);var b=z.indexOf(a.target);-1!==b?(x.splice(b,1),z.splice(b,1),a.target.className=""):(x.push(a.target.dataset.recipe),z.push(a.target),a.target.className="excluded");v.update();a.preventDefault()};null===c&&(c=m.length,a=m);for(;c--;)a[c].skip?!a[c].cook||a[c].cook.uncookable||a[c].cook.skip||-1!==b.indexOf(a[c].cook)?!a[c].dry||a[c].dry.uncookable||
a[c].dry.skip||-1!==b.indexOf(a[c].dry)||b.push(a[c].dry):b.push(a[c].cook):a[c].uncookable||a[c].cooked&&!a[c].ideal||a[c].rackdried&&!a[c].ideal||-1!==b.indexOf(a[c])||b.push(a[c]),!a[c].cooked||a[c].raw.uncookable||a[c].raw.skip||-1!==b.indexOf(a[c].raw)||b.push(a[c].raw),!a[c].rackdried||a[c].wet.uncookable||a[c].wet.skip||-1!==b.indexOf(a[c].wet)||b.push(a[c].wet);y=[];v=T({"":"",Name:"name",Health:"health","Health+:Health gained compared to ingredients":"healthpls",Hunger:"hunger","Hunger+:Hunger gained compared to ingredients":"hungerpls",
Ingredients:""},y,function(a){var b=a.recipe;return ea("td",b.img?b.img:"",b.name,A(b.health),A(a.healthpls)+" ("+A(100*a.healthpct|0)+"%)",A(b.hunger),A(a.hungerpls)+" ("+A(100*a.hungerpct|0)+"%)",W(a.ingredients.reduce(Ja,"")+(a.multiple?"*":"")))},"hungerpls",!1,null,null,function(a){return(!e||a.recipe.name===e)&&(0===x.length||-1===x.indexOf(a.recipe.name))&&(!q.length||!a.ingredients.some(D))&&(!r.length||r.every(u,a.ingredients))},0,15);B=document.createElement("div");l=document.createElement("div");
l.appendChild(document.createTextNode("Computing combinations.."));c=document.createElement("div");c.appendChild(document.createTextNode("* combination has multiple possible results"));B.appendChild(l);h=document.createElement("div");h.className="recipeFilter";B.appendChild(h);n=document.createElement("div");n.className="foodFilter";b.forEach(function(a){var b=N(a.img,32);b.dataset.id=a.id;b.addEventListener("click",C,!1);b.addEventListener("contextmenu",F,!1);b.title=a.name;n.appendChild(b)});B.appendChild(n);
p=document.createElement("div");t=document.createElement("input");t.type="text";t.placeholder="use custom filter";t.className="customFilterInput";p.appendChild(t);B.appendChild(v);d.parentNode.replaceChild(B,d);B.appendChild(c);Ha(b,function(a){var b,c;if(-1===g.indexOf(a.recipe.name)){for(b=0;b<g.length&&!(a.recipe.name<g[b]);b++);g.splice(b,0,a.recipe.name);c=N(k.byName(g[b].toLowerCase()).img);c.dataset.recipe=g[b];c.addEventListener("click",E,!1);c.addEventListener("contextmenu",G,!1);c.title=
a.recipe.name;b<h.childNodes.length?h.insertBefore(c,h.childNodes[b]):h.appendChild(c)}a.name||(a.name=a.recipe.name,a.health=a.recipe.health,a.ihealth=a.tags.health,a.healthpls=a.recipe.health-a.ihealth,a.hunger=a.recipe.hunger,a.ihunger=a.tags.hunger,a.hungerpls=a.recipe.hunger-a.ihunger,a.healthpct=ka(a.ihealth,a.recipe.health),a.hungerpct=ka(a.ihunger,a.recipe.hunger),a.sanity=a.recipe.sanity,a.perish=a.recipe.perish);y.push(a)},function(){l.firstChild.textContent="Found "+y.length+" valid recipes.. (you can change Food Guide tabs during this process)"},
function(){v.setMaxRows(30);l.firstChild.textContent="Found "+y.length+" valid recipes. Showing top 30 for selected recipe using all selected ingredients. Right-click to exclude recipes or ingredients."})},!1);return d};document.getElementById("statistics").appendChild(ma());var Ka=function(a,c){return a.reduce(function(a,e){return Math.max(a,e[c]||0)},-1E5)};window.food=m;window.recipes=k;window.matchingNames=O;var X=function(a,c){if(null!==c)a.dataset.id=c.id;else{if(a.nextSibling&&null!==Q(a.nextSibling)){X(a,
Q(a.nextSibling));X(a.nextSibling,null);return}a.dataset.id=null}null!==c?a.firstChild?a.replaceChild(N(c.img),a.firstChild):a.appendChild(N(c.img)):a.firstChild&&a.removeChild(a.firstChild);a.title=c?c.name:""},Q=function(a){return a&&(m[a.dataset.id]||k[a.dataset.id]||null)};(function(){for(var a=document.getElementsByClassName("ingredientpicker"),c=a.length;c--;)(function(){var b=document.createElement("span"),e,f=document.createElement("div"),g=document.createElement("ul"),h=a[c],l=c,n,r="recipes"===
h.dataset.type?k:m,t=!h.dataset.cookable,p=h.nextSibling,q=p.getElementsByClassName("ingredient"),v,y=[],B,x=[],A=[],u=null,D=!1,F=document.getElementById("results"),C=document.getElementById("discoverfood"),z=document.getElementById("discover"),E=document.getElementById("makable"),G=document.createElement("span"),J=function(a,b){for(var c=a;c.previousSibling;)if(c=c.previousSibling,b(c))return c;return null},M=function(a,b){for(var c=a;c.nextSibling;)if(c=c.nextSibling,b(c))return c;return null},
L=!1,P=function(a){var b=m[a]||k[a]||null;if(v){for(a=0;a<q.length;a++)if(null===Q(q[a]))return X(q[a],b),D&&B(),a;return-1}-1===q.indexOf(a)&&(q.push(a),a=document.createElement("span"),a.className="ingredient",X(a,b),a.addEventListener("click",R,!1),p.appendChild(a),D&&B());return 1},S=function(a){-1!==P(("IMG"===a.target.tagName?a.target.parentNode:a.target).dataset.id)&&a&&a.preventDefault&&a.preventDefault()},U=function(a){var b=N(a.img,32),c=document.createElement("span");c.appendChild(b);c.appendChild(document.createTextNode(a.name));
c.dataset.id=a.id;-1!==y.indexOf(a)&&(c.style.opacity=.5);c.addEventListener("mousedown",S,!1);this.appendChild(c);this.dataset.length++},V=function(a){-1!==y.indexOf(m[a.dataset.id])?a.style.opacity||(a.style.opacity=.5):a.style.opacity&&a.style.removeProperty("opacity")},R=function(a){var b="IMG"===a.target.tagName?a.target.parentNode:a.target;if(v){if(null!==Q(b))return X(b,null),B(),b.dataset.id}else return a=q.indexOf(b.dataset.id),q.splice(a,1),p.removeChild(b),B(),q[a]||null},Z=function(){var a;
e.splitTag();a=O(r,e.getSearch(),t);f.removeChild(g);g=document.createElement("div");g.dataset.length=0;a.forEach(U,g);f.appendChild(g);u=null},W=function(a){a="IMG"===a.target.tagName?a.target.parentNode.dataset.link:a.target.dataset.link;var b=O(r,a,t);1===b.length?P(b[0].id):(h.value=a,Z())},I;"ingredients"===p.id?B=function(){var a,b,c,d,e;y=Array.prototype.map.call(q,function(a){return Q(a)});a=Da(y);b=a[0].health;c=a[0].hunger;d=a[0].sanity;e=T({"":"",Name:"name",Health:"health",Hunger:"hunger",
Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},a,function(a){return aa(a,b,c,d)},"priority",!0,W,function(a,b){return 0<b.length&&a.priority===Ka(b,"priority")});F.firstChild&&F.removeChild(F.firstChild);F.firstChild&&(F.removeChild(F.firstChild),F.removeChild(F.firstChild));F.appendChild(e);null!==y[0]&&(ia(x,y,a),0<x.length&&
(F.appendChild(document.createTextNode("Add more ingredients to make:")),e=T({"":"",Name:"name","Health:(% more than ingredients)":"health","Hunger:(% more than ingredients)":"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},x,function(a){return aa(a,b,c,d)},"priority",!1,W),F.appendChild(e)));g&&g.firstChild&&Array.prototype.forEach.call(g.getElementsByTagName("span"),
V)}:"inventory"===p.id&&(B=function(){var a;y=Array.prototype.map.call(p.getElementsByClassName("ingredient"),function(a){return Q(a)});C.firstChild&&C.removeChild(C.firstChild);z.firstChild&&z.removeChild(z.firstChild);E.firstChild&&E.removeChild(E.firstChild);0<y.length&&(a=T({"":"",Name:"name",Health:"health",Hunger:"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish",Info:""},y,la,"name"),C.appendChild(a),ia(A,y,null,!0),0<A.length&&(a=T({"":"",Name:"name",Health:"health",Hunger:"hunger",
Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},A,aa,"name"),z.appendChild(a),E.appendChild(ma(y))));g&&g.firstChild&&Array.prototype.forEach.call(g.getElementsByTagName("span"),V)});0!==q.length?(v=!0,Array.prototype.forEach.call(q,function(a){X(a,null);a.addEventListener("click",R,!1)})):(q=[],v=!1);window.localStorage&&localStorage.foodGuideState&&
(n=JSON.parse(localStorage.foodGuideState).pickers)&&n[l]&&n[l].forEach(function(a){m[a]&&P(a)});D=!0;b.className="searchselector retracted";b.appendChild(document.createTextNode("name"));e=function(){var a=document.createElement("div"),c=!1,d=null,e=[{title:"name",prefix:"",placeholder:"Filter ingredients"},{title:"tag",prefix:"tag:",placeholder:"Meat, veggie, fruit, egg, monster..."},{title:"recipe",prefix:"recipe:",placeholder:"Find ingredients used in a recipe"}],g=e[0],f=null,k=function(){c=
!1;a.style.height="0px";b.style.borderBottomLeftRadius="3px";a.style.borderTopLeftRadius="3px";null!==f&&(clearTimeout(f),f=null);b.className="searchselector retracted"},l=function(a){g=a;h.placeholder=g.placeholder;b.firstChild.textContent=g.title},m=function(a){l(e[a.target.dataset.typeIndex]);Z();k()},n=/: */;b.addEventListener("click",function(){c?k():(null===d&&(a.style.height="auto",a.style.left=b.offsetLeft,a.style.top=b.offsetTop+b.offsetHeight,d=a.offsetHeight+"px",a.style.height="0px"),
c=!0,a.style.height=d,b.style.borderBottomLeftRadius="0px",a.style.borderTopLeftRadius="0px",a.style.width="auto",a.style.width=Math.max(a.offsetWidth,b.offsetWidth+1)+"px",null!==f&&(clearTimeout(f),f=null),b.className="searchselector extended")},!1);b.addEventListener("selectstart",function(a){a.preventDefault()},!1);b.addEventListener("mouseout",function(){null!==f&&clearTimeout(f);f=setTimeout(k,500)},!1);b.addEventListener("mouseover",function(){null!==f&&(clearTimeout(f),f=null)},!1);a.addEventListener("mouseout",
function(){null!==f&&clearTimeout(f);f=setTimeout(k,500)},!1);a.addEventListener("mouseover",function(){null!==f&&(clearTimeout(f),f=null)},!1);e.forEach(function(b,c){var d=document.createElement("div");d.appendChild(document.createTextNode(b.title));d.dataset.typeIndex=c;d.addEventListener("click",m,!1);b.element=d;a.appendChild(d)});h.parentNode.insertBefore(b,h);a.className="searchdropdown";h.parentNode.insertBefore(a,h);return{getTag:function(){return g.title},setSearchType:function(a){l(e[a])},
getSearch:function(){return g.prefix+h.value},splitTag:function(){var a;a=h.value.split(n);var b,c;if(2===a.length)for(b=a[0].toLowerCase()+":",c=a[1],a=0;a<e.length;a++)if(b===e[a].prefix){l(e[a]);h.value=c;break}}}}();f.className="ingredientdropdown";f.appendChild(g);f.addEventListener("mousedown",function(a){a.preventDefault()},!1);(function(){var a=O(r,e.getSearch(),t);f.removeChild(g);g=document.createElement("div");g.dataset.length=0;a.forEach(U,g);f.appendChild(g)})();G.className="clearingredients";
G.appendChild(document.createTextNode("clear"));G.addEventListener("click",function(){if(""===h.value&&"name"===e.getTag())for(;Q(p.firstChild);)R({target:p.firstChild});else h.value="",e.setSearchType(0),Z()},!1);G.addEventListener("mouseover",function(){""===h.value&&"name"===e.getTag()&&(G.firstChild.textContent="clear chosen ingredients")},!1);G.addEventListener("mouseout",function(){"clear"!==G.firstChild.textContent&&(G.firstChild.textContent="clear")},!1);p.parentNode.insertBefore(G,p);p.parentNode.insertBefore(f,
p);h.addEventListener("keydown",function(a){var b;-1!==[16,17,37,38,39,40,13].indexOf(a.keyCode)&&(b=u,13===a.keyCode?(null===u&&(u=g.firstChild||null),null!==u&&S({target:u})):null===u?40===a.keyCode&&(u=g.childNodes[1]||g.firstChild||null,null!==u&&(I=u.offsetLeft+u.offsetWidth/2,a.preventDefault())):(a.preventDefault(),37===a.keyCode?(u=u.previousSibling&&u.previousSibling.offsetTop===u.offsetTop?u.previousSibling:(a=M(u,function(a){return a.offsetTop!==u.offsetTop}))?a.previousSibling:g.lastChild,
null!==u&&(I=u.offsetLeft+u.offsetWidth/2)):39===a.keyCode?(u=u.nextSibling&&u.nextSibling.offsetTop===u.offsetTop?u.nextSibling:(a=J(u,function(a){return a.offsetTop!==u.offsetTop}))?a.nextSibling:g.firstChild,null!==u&&(I=u.offsetLeft+u.offsetWidth/2)):38===a.keyCode?((a=J(u,function(a){return I>=a.offsetLeft-1&&I<=a.offsetLeft+a.offsetWidth+1}))||(a=J(g.lastChild,function(a){return I>=a.offsetLeft-1&&I<=a.offsetLeft+a.offsetWidth+1})),u=a?a:g.firstChild):40===a.keyCode&&((a=M(u,function(a){return I>=
a.offsetLeft-1&&I<=a.offsetLeft+a.offsetWidth+1}))||(a=M(g.firstChild,function(a){return I>=a.offsetLeft-1&&I<=a.offsetLeft+a.offsetWidth+1})),u=a?a:g.lastChild)),u!==b&&(null!==b&&(b.className=""),null!==u&&(u.className="selected")))},!1);h.addEventListener("keyup",function(a){-1===[16,17,37,38,39,40,13].indexOf(a.keyCode)?Z():null!==u&&a.preventDefault()},!1);h.addEventListener("focus",function(){L||(L=!0)},!1);h.addEventListener("blur",function(){L&&(L=!1)},!1);B();window.addEventListener("beforeunload",
function(){var a,b;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.pickers||(a.pickers=[]),v?(b=[],b=Array.prototype.map.call(q,function(a){return(a=Q(a))?a.id:null}),a.pickers[l]=b):a.pickers[l]=q,localStorage.foodGuideState=JSON.stringify(a))});Y.push(Z);Y.push(B)})()})();var r=function(a){U(v[a.target.dataset.dlc].mask)},g=function(a){U(C^v[a.target.dataset.dlc].bit);a.preventDefault()},M=document.createElement("li");
ca.insertBefore(M,ca.firstChild);M.className="dlc";for(var ga in v)f=N("img/"+v[ga].img),f.dataset.dlc=ga,f.addEventListener("click",r,!1),f.addEventListener("contextmenu",g,!1),f.title=v[ga].name+"\nleft-click to select\nright-click to toggle",M.appendChild(f);U(C)})();
