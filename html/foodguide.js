(function(){var G,K,n=480,p=1*n,q=3*n,k=6*n,f=10*n,v=15*n,A=20*n,D=40*n,l=2*n,qa=n/16*.6666,Z=[],B=7,w={vanilla:{name:"Vanilla",img:"vanilla.png",bit:1,mask:1,color:"#ff592e"},giants:{name:"Reign of Giants",img:"reign_of_giants.png",bit:2,mask:3,color:"#b857c6"},shipwrecked:{name:"Shipwrecked",img:"shipwrecked.png",bit:4,mask:7,color:"#50c1cc"},together:{name:"Together",img:"together.png",bit:8,mask:11,color:"#c0c0c0"}},V=function(a){B=a;for(a=0;a<L.childNodes.length;a++){var c=L.childNodes[a];c.className=
0!==(B&w[c.dataset.dlc].bit)?"enabled":""}for(a=0;a<Z.length;a++)Z[a]()},m={acorn:{name:"Birchnut",uncookable:!0,hunger:9.375,health:1,sanity:0,perish:A,stack:40,dlc:"giants"},acorn_cooked:{name:"Roasted Birchnut",seed:1,hunger:9.375,health:1,sanity:0,perish:k,stack:40,dlc:"giants"},butter:{name:"Butter",fat:1,dairy:1,health:40,hunger:25,sanity:0,perish:D,stack:40},butterflywings:{name:"Butterfly Wings",isveggie:!0,decoration:2,health:8,hunger:9.375,sanity:0,perish:k,stack:40},cactusflower:{name:"Cactus Flower",
veggie:.5,hunger:12.5,health:8,sanity:5,perish:q,stack:40,dlc:"giants"},deerclopseyeball:{name:"Deerclops Eyeball",uncookable:!0,health:60,hunger:75,sanity:-15},bird_egg:{name:"Egg",egg:1,health:0,hunger:9.375,sanity:0,perish:f,stack:40,rot:"rottenegg"},bird_egg_cooked:{name:"Cooked Egg",egg:1,precook:1,health:0,hunger:12.5,sanity:0,perish:k,stack:40},rottenegg:{name:"Rotten Egg",uncookable:!0,health:-1,hunger:-10,sanity:0,stack:40},cutlichen:{name:"Lichen",isveggie:!0,veggie:1,health:3,hunger:12.5,
sanity:-5,perish:2*n},eel:{name:"Eel",ismeat:!0,meat:.5,fish:1,health:3,hunger:9.375,sanity:0,perish:q,stack:40,dry:"morsel_dried",drytime:n},eel_cooked:{name:"Cooked Eel",ismeat:!0,health:8,hunger:12.5,sanity:0,perish:k,stack:40},fish:{name:"Fish",ismeat:!0,meat:.5,fish:1,health:1,hunger:12.5,sanity:0,perish:q,stack:40,drytime:n,dry:"morsel_dried"},fish_cooked:{name:"Cooked Fish",ismeat:!0,meat:.5,fish:1,precook:1,health:1,hunger:12.5,sanity:0,perish:k,stack:40},froglegs:{name:"Frog Legs",ismeat:!0,
meat:.5,health:0,hunger:12.5,perish:k,sanity:-10,stack:40},froglegs_cooked:{name:"Cooked Frog Legs",ismeat:!0,meat:.5,precook:1,health:1,hunger:12.5,perish:f,sanity:0,stack:40},foliage:{name:"Foliage",uncookable:!0,health:1,hunger:0,sanity:0,perish:k,stack:40},goatmilk:{name:"Electric Milk",dairy:1,health:3,hunger:12.5,sanity:10,perish:k,stack:40,dlc:"giants"},honey:{name:"Honey",sweetener:!0,health:3,hunger:9.375,sanity:0,perish:D,stack:40},honeycomb:{name:"Honeycomb",sweetener:!0},ice:{name:"Ice",
frozen:1,health:.5,hunger:2.34375,sanity:0,perish:q,stack:40,dlc:"giants"},lightbulb:{name:"Light Bulb",health:1,hunger:0,sanity:0,perish:k,stack:40,uncookable:!0},mandrake:{name:"Mandrake",veggie:1,magic:1,health:60,hunger:75,sanity:0,stack:40},mandrake_cooked:{name:"Cooked Mandrake",uncookable:!0,veggie:1,magic:1,precook:1,health:100,hunger:150,sanity:0,stack:40},mole:{name:"Moleworm",ideal:!0,meat:.5,perish:2*n,cook:"morsel_cooked",dlc:"giants"},plantmeat:{name:"Leafy Meat",uncookable:!0,health:0,
hunger:12.5,sanity:-10,perish:k,stack:40},plantmeat_cooked:{name:"Cooked Leafy Meat",uncookable:!0,health:1,hunger:18.75,sanity:0,perish:f,stack:40},monstermeat:{name:"Monster Meat",ismeat:!0,meat:1,monster:!0,health:-20,hunger:18.75,sanity:-15,perish:k,stack:20,dry:"monstermeat_dried",drytime:n},monstermeat_cooked:{name:"Cooked Monster Meat",ismeat:!0,meat:1,monster:!0,precook:1,health:-3,hunger:18.75,sanity:-10,perish:v,stack:20},monstermeat_dried:{name:"Monster Jerky",ismeat:!0,meat:1,monster:!0,
dried:1,health:-3,hunger:18.75,sanity:-5,perish:A,stack:20},meat:{name:"Meat",ismeat:!0,meat:1,health:1,hunger:25,sanity:-10,perish:k,stack:20,dry:"meat_dried",drytime:l},meat_cooked:{name:"Cooked Meat",ismeat:!0,meat:1,precook:1,health:3,hunger:25,sanity:0,perish:f,stack:20},meat_dried:{name:"Jerky",ismeat:!0,meat:1,dried:1,health:20,hunger:25,sanity:15,perish:A,stack:20},morsel:{name:"Morsel",ismeat:!0,meat:.5,health:0,hunger:12.5,sanity:-10,perish:k,stack:40,drytime:n,dry:"morsel_dried"},morsel_cooked:{name:"Cooked Morsel",
ismeat:!0,meat:.5,precook:1,health:1,hunger:12.5,sanity:0,perish:f,stack:40},morsel_dried:{name:"Small Jerky",ismeat:!0,meat:.5,dried:1,health:8,hunger:12.5,sanity:10,perish:A,stack:40},drumstick:{name:"Drumstick",ismeat:!0,ideal:!0,meat:.5,health:0,hunger:12.5,sanity:-10,perish:k,stack:20,drytime:n,dry:"morsel_dried"},drumstick_cooked:{name:"Fried Drumstick",ismeat:!0,meat:.5,precook:1,health:1,hunger:12.5,sanity:0,perish:f,stack:20},batwing:{name:"Batilisk Wing",ismeat:!0,health:3,hunger:12.5,sanity:-10,
perish:k,stack:40,drytime:l,dry:"morsel_dried",uncookable:!0},batwing_cooked:{name:"Cooked Batilisk Wing",ismeat:!0,health:8,hunger:18.75,sanity:0,perish:f,uncookable:!0},minotaurhorn:{name:"Guardian's Horn",uncookable:!0,ismeat:!0,health:60,hunger:75,sanity:-15},red_mushroom:{name:"Red Cap",veggie:.5,ideal:!0,health:-20,hunger:12.5,sanity:0,perish:f,stack:40},red_mushroom_cooked:{name:"Cooked Red Cap",veggie:.5,health:1,hunger:0,sanity:-10,perish:f,stack:40},green_mushroom:{name:"Green Cap",veggie:.5,
ideal:!0,health:0,hunger:12.5,sanity:-50,perish:f,stack:40},green_mushroom_cooked:{name:"Cooked Green Cap",veggie:.5,health:-1,hunger:0,sanity:15,perish:f,stack:40},blue_mushroom:{name:"Blue Cap",veggie:.5,ideal:!0,health:20,hunger:12.5,sanity:-15,perish:f,stack:40},blue_mushroom_cooked:{name:"Cooked Blue Cap",veggie:.5,health:-3,hunger:0,sanity:10,perish:f,stack:40},petals:{name:"Petals",uncookable:!0,health:1,hunger:0,sanity:0,perish:k,stack:40},petals_evil:{name:"Dark Petals",uncookable:!0,health:0,
hunger:0,sanity:-5,perish:k,stack:40},seeds:{name:"Seeds",uncookable:!0,health:0,hunger:4.6875,sanity:0,perish:D,stack:40},seeds_cooked:{name:"Toasted Seeds",uncookable:!0,health:1,hunger:4.6875,sanity:0,perish:f,stack:40},spoiled_food:{name:"Rot",uncookable:!0,health:-1,hunger:-10,sanity:0,stack:40},tallbirdegg:{name:"Tallbird Egg",egg:4,health:3,hunger:25,sanity:0},tallbirdegg_cooked:{name:"Fried Tallbird Egg",egg:4,precook:1,health:0,hunger:37.5,sanity:0,perish:k},trunk_summer:{name:"Koalefant Trunk",
uncookable:!0,ismeat:!0,health:30,hunger:37.5,sanity:0,perish:k,stack:20},trunk_summer_cooked:{name:"Koalefant Trunk Steak",uncookable:!0,ismeat:!0,health:40,hunger:75,sanity:0,perish:v,stack:20},twigs:{name:"Twigs",inedible:1},cavebanana:{name:"Banana",ideal:!0,isfruit:!0,fruit:1,health:1,hunger:12.5,sanity:0,perish:f},cavebanana_cooked:{name:"Cooked Banana",isfruit:!0,fruit:1,precook:1,health:3,hunger:12.5,sanity:0,perish:k},carrot:{name:"Carrot",isveggie:!0,veggie:1,health:1,hunger:12.5,perish:f,
sanity:0,stack:40},carrot_cooked:{name:"Roasted Carrot",isveggie:!0,veggie:1,precook:1,health:3,hunger:12.5,perish:k,sanity:0,stack:40},corn:{name:"Corn",ideal:!0,isveggie:!0,veggie:1,health:3,hunger:25,perish:f,sanity:0,stack:40},corn_cooked:{name:"Popcorn",isveggie:!0,veggie:1,precook:1,health:3,hunger:12.5,perish:v,sanity:0,stack:40},pumpkin:{name:"Pumpkin",isveggie:!0,veggie:1,health:3,hunger:37.5,perish:f,sanity:0,stack:20},pumpkin_cooked:{name:"Hot Pumpkin",isveggie:!0,veggie:1,precook:1,health:8,
hunger:37.5,perish:k,sanity:0,stack:20},eggplant:{name:"Eggplant",isveggie:!0,veggie:1,health:8,hunger:25,perish:f,sanity:0,stack:20},eggplant_cooked:{name:"Braised Eggplant",isveggie:!0,veggie:1,precook:1,health:20,hunger:25,perish:k,sanity:0,stack:20},durian:{name:"Durian",isfruit:!0,monster:1,fruit:1,health:-3,hunger:25,perish:f,sanity:-5,stack:20},durian_cooked:{name:"Extra Smelly Durian",isfruit:!0,monster:1,fruit:1,precook:1,health:0,hunger:25,perish:k,sanity:-5,stack:20},pomegranate:{name:"Pomegranate",
isfruit:!0,fruit:1,health:3,hunger:9.375,perish:k,sanity:0,stack:40},pomegranate_cooked:{name:"Sliced Pomegranate",isfruit:!0,fruit:1,precook:1,health:20,hunger:12.5,perish:q,sanity:0,stack:40},dragonfruit:{name:"Dragon Fruit",isfruit:!0,fruit:1,health:3,hunger:9.375,perish:k,sanity:0,stack:40},dragonfruit_cooked:{name:"Prepared Dragon Fruit",isfruit:!0,fruit:1,precook:1,health:20,hunger:12.5,perish:q,sanity:0,stack:40},berries:{name:"Berries",isfruit:!0,fruit:.5,health:0,hunger:9.375,perish:k,sanity:0,
stack:40},berries_cooked:{name:"Roasted Berries",isfruit:!0,fruit:.5,precook:1,health:1,hunger:12.5,perish:q,sanity:0,stack:40},cactusmeat:{name:"Cactus Flesh",ideal:!0,veggie:1,hunger:12.5,health:-3,perish:f,sanity:-5,stack:40,dlc:"giants"},cactusmeat_cooked:{name:"Cooked Cactus Flesh",veggie:1,hunger:12.5,health:1,perish:f,sanity:15,precook:1,stack:40,dlc:"giants"},watermelon:{name:"Watermelon",fruit:1,ideal:!0,hunger:12.5,health:3,perish:k,sanity:5,stack:40,dlc:"giants"},watermelon_cooked:{name:"Grilled Watermelon",
fruit:1,hunger:12.5,health:1,perish:q,sanity:7.5,precook:1,stack:40,dlc:"giants"},wormlight:{name:"Glow Berry",uncookable:!0,health:11,hunger:18.75,sanity:-10,perish:f,note:"Gives 90 seconds of light"},glommerfuel:{name:"Glommer's Goop",uncookable:!0,health:40,hunger:9.375,sanity:-50,dlc:"giants"},coral_brain:{name:"Brainy Matter",uncookable:!0,health:-10,hunger:10,sanity:50,perish:p,dlc:"shipwrecked"},blubber:{name:"Blubber",uncookable:!0,health:10,hunger:10,sanity:0,perish:f,stack:10,dlc:"shipwrecked"},
seaweed:{name:"Seaweed",ideal:!0,veggie:1,health:1,hunger:9.375,sanity:-10,perish:k,stack:40,dry:"seaweed_dried",drytime:n,dlc:"shipwrecked"},seaweed_cooked:{name:"Roasted Seaweed",veggie:1,health:3,hunger:9.375,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},seaweed_dried:{name:"Dried Seaweed",veggie:1,health:3,hunger:12.5,sanity:0,perish:A,stack:40,dlc:"shipwrecked"},sweet_potato:{name:"Sweet Potato",veggie:1,health:1,hunger:12.5,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},sweet_potato_cooked:{name:"Cooked Sweet Potato",
veggie:1,health:3,hunger:12.5,sanity:0,perish:k,stack:40,dlc:"shipwrecked"},coffeebeans:{name:"Coffee Beans",fruit:.5,health:0,hunger:9.375,sanity:0,perish:k,stack:40,dlc:"shipwrecked"},coffeebeans_cooked:{name:"Roasted Coffee Beans",fruit:1,health:0,hunger:9.375,sanity:-5,perish:v,stack:40,note:"Gives 5 bonus speed (+83%) for 30 seconds",dlc:"shipwrecked"},coconut:{name:"Coconut",fruit:1,fat:1,health:0,hunger:4.6875,sanity:0,perish:A,stack:40,dlc:"shipwrecked"},coconut_halved:{name:"Halved Coconut",
uncookable:!0,fruit:1,fat:1,health:1,hunger:4.6875,sanity:0,perish:f,stack:40,cook:"coconut_cooked",dlc:"shipwrecked"},coconut_cooked:{name:"Roasted Coconut",fruit:1,fat:1,health:1,hunger:9.375,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},doydoyegg:{name:"Doydoy Egg",egg:1,health:3,hunger:25,sanity:0,perish:f,dlc:"shipwrecked"},doydoyegg_cooked:{name:"Fried Doydoy Egg",egg:1,health:0,hunger:37.5,sanity:0,perish:k,dlc:"shipwrecked"},tropical_fish:{name:"Tropical Fish",ismeat:!0,meat:.5,fish:1,health:1,
hunger:12.5,sanity:0,perish:q,stack:40,cook:"fish_raw_small_cooked",dry:"morsel_dried",drytime:n,dlc:"shipwrecked"},fish_raw:{name:"Raw Fish",meat:.5,fish:1,health:1,hunger:25,sanity:0,perish:q,stack:40,cook:"fish_med_cooked",dry:"meat_dried",drytime:n,dlc:"shipwrecked"},fish_med:{name:"Dead Dogfish",meat:.5,fish:1,health:1,hunger:25,sanity:0,perish:k,stack:40,rot:"spoiled_fish",dry:"meat_dried",drytime:n,dlc:"shipwrecked"},dead_swordfish:{name:"Swordfish",uncookable:!0,health:1,hunger:25,sanity:0,
perish:k,stack:40,cook:"fish_med_cooked",rot:"spoiled_fish",dry:"meat_dried",drytime:n,dlc:"shipwrecked"},fish_med_cooked:{name:"Fish Steak",meat:.5,fish:1,health:20,hunger:25,sanity:0,perish:k,stack:40,dlc:"shipwrecked"},shark_fin:{name:"Shark Fin",meat:.5,fish:1,health:20,hunger:25,sanity:-15,perish:k,stack:10,dlc:"shipwrecked"},limpets:{name:"Limpets",ideal:!0,fish:.5,health:0,hunger:12.5,sanity:-10,perish:k,stack:40,dlc:"shipwrecked"},limpets_cooked:{name:"Cooked Limpets",fish:.5,health:1,hunger:12.5,
sanity:0,perish:f,stack:40,dlc:"shipwrecked"},mussel:{name:"Mussel",fish:.5,health:0,hunger:12.5,sanity:-10,perish:q,stack:40,dlc:"shipwrecked"},mussel_cooked:{name:"Cooked Mussel",fish:.5,health:1,hunger:12.5,sanity:0,perish:q,stack:40,dlc:"shipwrecked"},mysterymeat:{name:"Bile-Covered Slop",uncookable:!0,health:-1,hunger:-10,sanity:0,stack:20,dlc:"shipwrecked"},jellyfish:{name:"Jellyfish",fish:1,jellyfish:1,monster:1,perish:1.5*p,stack:40,dlc:"shipwrecked"},jellyfish_dead:{name:"Dead Jellyfish",
fish:1,jellyfish:1,monster:1,health:10,hunger:10,sanity:0,perish:k,stack:20,cook:"jellyfish_cooked",dry:"jellyfish_dried",drytime:n,dlc:"shipwrecked"},jellyfish_cooked:{name:"Cooked Jellyfish",fish:1,jellyfish:1,monster:1,health:10,hunger:18.75,sanity:0,perish:f,stack:20,dlc:"shipwrecked"},jellyfish_dried:{name:"Dried Jellyfish",fish:1,jellyfish:1,monster:1,health:10,hunger:18.75,sanity:0,perish:A,stack:20,dlc:"shipwrecked"},lobster:{name:"Wobster",fish:2,perish:2*n,dlc:"shipwrecked"},lobster_dead:{name:"Dead Wobster",
uncookable:!0,health:1,hunger:12.5,sanity:0,perish:q,stack:10,cook:"lobster_cooked",dlc:"shipwrecked"},lobster_cooked:{name:"Delicious Wobster",uncookable:!0,health:1,hunger:12.5,sanity:0,perish:k,stack:40,dlc:"shipwrecked"},crab:{name:"Crab",fish:.5,perish:2*n,cook:"fish_raw_small_cooked",dlc:"shipwrecked"},fish_raw_small:{name:"Fish Morsel",fish:.5,health:1,hunger:12.5,perish:q,sanity:0,stack:40,dry:"morsel_dried",drytime:n,dlc:"shipwrecked"},fish_raw_small_cooked:{name:"Cooked Fish Morsel",fish:.5,
health:1,hunger:12.5,sanity:0,perish:k,stack:40,dlc:"shipwrecked"},tigereye:{name:"Eye of the Tiger Shark",uncookable:!0,health:60,hunger:75,sanity:-15,stack:10,dlc:"shipwrecked"},dragoonheart:{name:"Dragoon Heart",uncookable:!0,health:11,hunger:25,sanity:-10,perish:f,stack:10,note:"Gives 90 seconds of light",dlc:"shipwrecked"},wormlight_lesser:{name:"Lesser Glowberry",uncookable:!0,health:3,hunger:12.5,sanity:-10,perish:q,stack:40,note:"Gives 22.5 seconds of light",dlc:"together"},phlegm:{name:"Phlegm",
uncookable:!0,health:0,hunger:12.5,sanity:-15,perish:q,stack:40,dlc:"together"}},ra=function(){return this.op+this.qty},sa={"=":function(a){return a===this.qty},">":function(a){return a>this.qty},"<":function(a){return a<this.qty},">=":function(a){return a>=this.qty},"<=":function(a){return a<=this.qty}},Q={test:function(a){return!!a},toString:function(){return""}},p=function(a,c){return{op:a,qty:c,test:sa[a],toString:ra}},ta=function(a,c,b){return this.item1.test(a,c,b)&&this.item2.test(a,c,b)},
ua=function(){return this.item1+" and "+this.item2},va=function(a,c,b){return this.item1.test(a,c,b)||this.item2.test(a,c,b)},wa=function(){return this.item1+" or "+this.item2},D=function(a,c){return{item1:a,item2:c,test:va,toString:wa,cancel:a.cancel||c.cancel}},xa=function(a,c,b){return!this.item.test(a,c,b)},ya=function(){return this.item.toString().substring(0,this.item.toString().length-1)+"|strike]"},l=function(a){return{item:a,test:xa,toString:ya,cancel:!0}},za=function(a,c,b){return(c[this.name]||
0)+(c[this.name+"_cooked"]||0)},Aa=function(){return"[*"+m[this.name].name+"|"+m[this.name].img+" "+m[this.name].name+"]"+(m[this.name].cook?"[*"+m[this.name].cook.name+"|"+m[this.name].cook.img+"]":"")+(m[this.name].raw?"[*"+m[this.name].raw.name+"|"+m[this.name].raw.img+"]":"")+(this.qty?this.qty:"")},x=function(a,c){return{name:a,qty:c||Q,test:za,toString:Aa}},Ba=function(a,c,b){return c[this.name]},Ca=function(){return"[*"+m[this.name].name+"|"+m[this.name].img+" "+m[this.name].name+"]"+(this.qty?
this.qty:"")},r=function(a,c){return{name:a,qty:c||Q,test:Ba,toString:Ca}},Da=function(a,c,b){return b[this.tag]},Ea=function(){return"[tag:"+this.tag+"|"+this.tag+"]"+(this.qty?this.qty:"")},d=function(a,c){return{tag:a,qty:c||Q,test:Da,toString:Ea}},g={butterflymuffin:{name:"Butter Muffin",test:function(a,c,b){return c.butterflywings&&!b.meat&&b.veggie},requires:"Butterfly Wings, veggie",requirements:[x("butterflywings"),l(d("meat")),d("veggie")],priority:1,weight:1,foodtype:"veggie",health:20,
hunger:37.5,perish:v,sanity:5,cooktime:2},frogglebunwich:{name:"Froggle Bunwich",test:function(a,c,b){return(c.froglegs||c.froglegs_cooked)&&b.veggie},requirements:[x("froglegs"),d("veggie")],priority:1,foodtype:"meat",health:20,hunger:37.5,perish:v,sanity:5,cooktime:2},taffy:{name:"Taffy",test:function(a,c,b){return b.sweetener&&3<=b.sweetener&&!b.meat},requirements:[d("sweetener",p(">=",3)),l(d("meat"))],priority:10,foodtype:"veggie",health:-3,hunger:25,perish:v,sanity:15,cooktime:2,tags:["honeyed"]},
pumpkincookie:{name:"Pumpkin Cookie",test:function(a,c,b){return(c.pumpkin||c.pumpkin_cooked)&&b.sweetener&&2<=b.sweetener},requirements:[x("pumpkin"),d("sweetener",p(">=",2))],priority:10,foodtype:"veggie",health:0,hunger:37.5,perish:f,sanity:15,cooktime:2,tags:["honeyed"]},stuffedeggplant:{name:"Stuffed Eggplant",test:function(a,c,b){return(c.eggplant||c.eggplant_cooked)&&b.veggie&&1<b.veggie},requirements:[x("eggplant"),d("veggie",p(">",1))],priority:1,foodtype:"veggie",health:3,hunger:37.5,perish:v,
sanity:5,temperature:40,temperatureduration:5,cooktime:2},fishsticks:{name:"Fishsticks",test:function(a,c,b){return b.fish&&c.twigs&&b.inedible&&1>=b.inedible},requirements:[d("fish"),r("twigs"),d("inedible"),d("inedible",p("<=",1))],priority:10,foodtype:"meat",health:40,hunger:37.5,perish:f,sanity:5,cooktime:2},honeynuggets:{name:"Honey Nuggets",test:function(a,c,b){return c.honey&&b.meat&&1.5>=b.meat&&!b.inedible},requirements:[r("honey"),d("meat",p("<=",1.5)),l(d("inedible"))],priority:2,foodtype:"meat",
health:20,hunger:37.5,perish:v,sanity:5,cooktime:2,tags:["honeyed"]},honeyham:{name:"Honey Ham",test:function(a,c,b){return c.honey&&b.meat&&1.5<b.meat&&!b.inedible},requirements:[r("honey"),d("meat",p(">",1.5)),l(d("inedible"))],priority:2,foodtype:"meat",health:30,hunger:75,perish:v,sanity:5,temperature:40,temperatureduration:10,cooktime:2,tags:["honeyed"]},dragonpie:{name:"Dragonpie",test:function(a,c,b){return(c.dragonfruit||c.dragonfruit_cooked)&&!b.meat},requirements:[x("dragonfruit"),l(d("meat"))],
priority:1,foodtype:"veggie",health:40,hunger:75,perish:v,sanity:5,temperature:40,temperatureduration:10,cooktime:2},kabobs:{name:"Kabobs",test:function(a,c,b){return b.meat&&c.twigs&&(!b.monster||1>=b.monster)&&b.inedible&&1>=b.inedible},requirements:[d("meat"),r("twigs"),D(l(d("monster")),d("monster",p("<=",1))),d("inedible"),d("inedible",p("<=",1))],priority:5,foodtype:"meat",health:3,hunger:37.5,perish:v,sanity:5,cooktime:2},mandrakesoup:{name:"Mandrake Soup",test:function(a,c,b){return c.mandrake},
requirements:[r("mandrake")],priority:10,foodtype:"veggie",health:100,hunger:150,perish:k,sanity:5,cooktime:3},baconeggs:{name:"Bacon and Eggs",test:function(a,c,b){return b.egg&&1<b.egg&&b.meat&&1<b.meat&&!b.veggie},requirements:[d("egg",p(">",1)),d("meat",p(">",1)),l(d("veggie"))],priority:10,foodtype:"meat",health:20,hunger:75,perish:A,sanity:5,cooktime:2},meatballs:{name:"Meatballs",test:function(a,c,b){return b.meat&&!b.inedible},requirements:[d("meat"),l(d("inedible"))],priority:-1,foodtype:"meat",
health:3,hunger:62.5,perish:f,sanity:5,cooktime:.75},bonestew:{name:"Meaty Stew",test:function(a,c,b){return b.meat&&3<=b.meat&&!b.inedible},requirements:[d("meat",p(">=",3)),l(d("inedible"))],priority:0,foodtype:"meat",health:12,hunger:150,perish:f,sanity:5,temperature:40,temperatureduration:15,cooktime:.75},perogies:{name:"Pierogi",test:function(a,c,b){return b.egg&&b.meat&&b.veggie&&!b.inedible},requirements:[d("egg"),d("meat"),d("veggie"),l(d("inedible"))],priority:5,foodtype:"meat",health:40,
hunger:37.5,perish:A,sanity:5,temperature:40,temperatureduration:10,cooktime:1},turkeydinner:{name:"Turkey Dinner",test:function(a,c,b){return c.drumstick&&1<c.drumstick&&b.meat&&1<b.meat&&(b.veggie||b.fruit)},requirements:[r("drumstick",p(">",1)),d("meat",p(">",1)),D(d("veggie"),d("fruit"))],priority:10,foodtype:"meat",health:20,hunger:75,perish:k,sanity:5,temperature:40,temperatureduration:10,cooktime:3},ratatouille:{name:"Ratatouille",test:function(a,c,b){return!b.meat&&b.veggie&&!b.inedible},
requirements:[l(d("meat")),d("veggie"),l(d("inedible"))],priority:0,foodtype:"veggie",health:3,hunger:25,perish:v,sanity:5,temperature:-40,temperatureduration:5,cooktime:1},jammypreserves:{name:"Fist Full of Jam",test:function(a,c,b){return b.fruit&&!b.meat&&!b.veggie&&!b.inedible},requirements:[d("fruit"),l(d("meat")),l(d("veggie")),l(d("inedible"))],priority:0,foodtype:"veggie",health:3,hunger:37.5,perish:v,sanity:5,cooktime:.5},fruitmedley:{name:"Fruit Medley",test:function(a,c,b){return b.fruit&&
3<=b.fruit&&!b.meat&&!b.veggie},requirements:[d("fruit",p(">=",3)),l(d("meat")),l(d("veggie"))],priority:0,foodtype:"veggie",health:20,hunger:25,perish:k,sanity:5,temperature:-40,temperatureduration:5,cooktime:.5},fishtacos:{name:"Fish Tacos",test:function(a,c,b){return b.fish&&(c.corn||c.corn_cooked)},requirements:[d("fish"),x("corn")],priority:10,foodtype:"meat",health:20,hunger:37.5,perish:k,sanity:5,cooktime:.5,tags:["monstermeat"]},waffles:{name:"Waffles",test:function(a,c,b){return c.butter&&
(c.berries||c.berries_cooked)&&b.egg},requirements:[r("butter"),x("berries"),d("egg")],priority:10,foodtype:"veggie",health:60,hunger:37.5,perish:k,sanity:5,cooktime:.5},monsterlasagna:{name:"Monster Lasagna",test:function(a,c,b){return b.monster&&2<=b.monster&&!b.inedible},requirements:[d("monster",p(">=",2)),l(d("inedible"))],priority:10,foodtype:"meat",health:-20,hunger:37.5,perish:k,sanity:-20,cooktime:.5},powcake:{name:"Powdercake",test:function(a,c,b){return c.twigs&&c.honey&&(c.corn||c.corn_cooked)},
requirements:[r("twigs"),r("honey"),x("corn")],priority:10,foodtype:"veggie",health:-3,hunger:0,perish:9E6,sanity:0,cooktime:.5,tags:["honeyed"]},unagi:{name:"Unagi",test:function(a,c,b){return c.cutlichen&&(c.eel||c.eel_cooked)},requirements:[r("cutlichen"),x("eel")],priority:20,foodtype:"veggie",health:20,hunger:18.75,perish:f,sanity:5,cooktime:.5},wetgoop:{name:"Wet Goop",test:function(a,c,b){return!0},requirements:[],trash:!0,priority:-2,health:0,hunger:0,perish:k,sanity:0,cooktime:.25},flowersalad:{name:"Flower Salad",
test:function(a,c,b){return c.cactusflower&&b.veggie&&2<=b.veggie&&!b.meat&&!b.inedible&&!b.egg&&!b.sweetener&&!b.fruit},requirements:[r("cactusflower"),d("veggie",p(">=",2)),l(d("meat")),l(d("inedible")),l(d("egg")),l(d("sweetener")),l(d("fruit"))],priority:10,foodtype:"veggie",health:40,hunger:12.5,perish:k,sanity:5,cooktime:.5,dlc:"giants"},icecream:{name:"Ice Cream",test:function(a,c,b){return b.frozen&&b.dairy&&b.sweetener&&!b.meat&&!b.veggie&&!b.inedible&&!b.egg},requirements:[d("frozen"),d("dairy"),
d("sweetener"),l(d("meat")),l(d("veggie")),l(d("inedible")),l(d("egg"))],priority:10,foodtype:"veggie",health:0,hunger:25,perish:q,sanity:50,temperature:-40,temperatureduration:15,cooktime:.5,dlc:"giants"},watermelonicle:{name:"Melonsicle",test:function(a,c,b){return c.watermelon&&b.frozen&&c.twigs&&!b.meat&&!b.veggie&&!b.egg},requirements:[r("watermelon"),d("frozen"),r("twigs"),l(d("meat")),l(d("veggie")),l(d("egg"))],priority:10,foodtype:"veggie",health:3,hunger:12.5,perish:q,sanity:20,temperature:-40,
temperatureduration:10,cooktime:.5,dlc:"giants"},trailmix:{name:"Trail Mix",test:function(a,c,b){return c.acorn_cooked&&b.seed&&1<=b.seed&&(c.berries||c.berries_cooked)&&b.fruit&&1<=b.fruit&&!b.meat&&!b.veggie&&!b.egg&&!b.dairy},requirements:[r("acorn_cooked"),d("seed",p(">=",1)),x("berries"),d("fruit",p(">=",1)),l(d("meat")),l(d("veggie")),l(d("egg")),l(d("dairy"))],priority:10,foodtype:"veggie",health:30,hunger:12.5,perish:v,sanity:5,cooktime:.5,dlc:"giants"},hotchili:{name:"Spicy Chili",test:function(a,
c,b){return b.meat&&b.veggie&&1.5<=b.meat&&1.5<=b.veggie},requirements:[d("meat",p(">=",1.5)),d("veggie",p(">=",1.5))],priority:10,foodtype:"meat",health:20,hunger:37.5,perish:f,sanity:0,temperature:40,temperatureduration:15,cooktime:.5,dlc:"giants"},guacamole:{name:"Guacamole",test:function(a,c,b){return c.mole&&c.cactusmeat&&!b.fruit},requirements:[r("mole"),r("cactusmeat"),l(d("fruit"))],priority:10,foodtype:"meat",health:20,hunger:37.5,perish:f,sanity:0,cooktime:.5,dlc:"giants"},californiaroll:{name:"California Roll",
test:function(a,c,b){return c.seaweed&&2==c.seaweed&&b.fish&&1<=b.fish},requirements:[r("seaweed",p("==",2)),d("fish",p(">=",1))],priority:20,foodtype:"meat",health:20,hunger:50,perish:f,sanity:10,cooktime:.5,dlc:"shipwrecked"},seafoodgumbo:{name:"Seafood Gumbo",test:function(a,c,b){return b.fish&&2<b.fish},requirements:[d("fish",p(">",2))],priority:10,foodtype:"meat",health:40,hunger:37.5,perish:f,sanity:20,cooktime:1,dlc:"shipwrecked"},bisque:{name:"Bisque",test:function(a,c,b){return c.limpets&&
3==c.limpets&&b.frozen},requirements:[r("limpets",p("==",3)),d("frozen")],priority:30,foodtype:"meat",health:60,hunger:18.75,perish:f,sanity:5,cooktime:1,dlc:"shipwrecked"},ceviche:{name:"Ceviche",test:function(a,c,b){return b.fish&&2<=b.fish&&b.frozen},requirements:[d("fish",p(">=",2)),d("frozen")],priority:20,foodtype:"meat",health:20,hunger:25,perish:f,sanity:5,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"shipwrecked"},jellyopop:{name:"Jelly-O Pop",test:function(a,c,b){return b.jellyfish&&
b.frozen&&b.inedible},requirements:[d("jellyfish"),d("frozen"),d("inedible")],priority:20,foodtype:"meat",health:20,hunger:12.5,perish:q,sanity:0,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"shipwrecked"},bananapop:{name:"Banana Pop",test:function(a,c,b){return c.cavebanana&&b.frozen&&b.inedible&&!b.meat&&!b.fish},requirements:[r("cavebanana"),d("frozen"),d("inedible"),l(d("meat")),l(d("fish"))],priority:20,foodtype:"veggie",health:20,hunger:12.5,perish:q,sanity:33,temperature:-40,temperatureduration:10,
cooktime:.5,dlc:"shipwrecked"},lobsterbisque:{name:"Lobster Bisque",test:function(a,c,b){return c.lobster&&b.frozen},requirements:[r("lobster"),d("frozen")],priority:30,foodtype:"meat",health:60,hunger:25,perish:f,sanity:10,cooktime:.5,dlc:"shipwrecked"},lobsterdinner:{name:"Lobster Dinner",test:function(a,c,b){return c.lobster&&c.butter&&!b.meat&&!b.frozen},requirements:[r("lobster"),r("butter"),l(d("meat")),l(d("frozen"))],priority:25,foodtype:"meat",health:60,hunger:37.5,perish:v,sanity:50,cooktime:1,
dlc:"shipwrecked"},sharkfinsoup:{name:"Shark Fin Soup",test:function(a,c,b){return c.shark_fin},requirements:[r("shark_fin")],priority:20,foodtype:"meat",health:40,hunger:12.5,perish:f,sanity:-10,cooktime:.5,note:"Gives 10 naughtiness",dlc:"shipwrecked"},surfnturf:{name:"Surf 'n' Turf",test:function(a,c,b){return b.meat&&2.5<=b.meat&&b.fish&&1.5<=b.fish&&!b.frozen},requirements:[d("meat",p(">=",2.5)),d("fish",p(">=",1.5)),l(d("frozen"))],priority:30,foodtype:"meat",health:60,hunger:37.5,perish:f,
sanity:33,cooktime:.5,dlc:"shipwrecked"},coffee:{name:"Coffee",test:function(a,c,b){return c.coffeebeans_cooked&&(4==c.coffeebeans_cooked||3==c.coffeebeans_cooked&&(b.dairy||b.sweetener))},requirements:[D(r("coffeebeans_cooked",p("==",4)),function(a,c){return{item1:a,item2:c,test:ta,toString:ua,cancel:a.cancel&&c.cancel}}(r("coffeebeans_cooked",p("==",3)),D(d("dairy"),d("sweetener"))))],priority:30,foodtype:"veggie",health:3,hunger:9.375,perish:f,sanity:-5,cooktime:.5,note:"Gives 5 bonus speed (+83%) for 0.5 days",
dlc:"shipwrecked"}},N=function(){var a,c,b=/^tag[: ]/,I=/^tag:? */,d=/^tagnot[: ]/,e=/^tagnot:? */,u,J=/^recipe[: ]/,f=/^recipe:? */,k,h=/^ingredient[: ]/,Fa=/^ingredient:? */,W,ka,l=!1,q=function(b){!l&&b.uncookable||0===(b.dlcMask&B)?b.match=0:0===b.lowerName.indexOf(a)||b.raw&&0===b.raw.lowerName.indexOf(a)?b.match=3:0===ka.test(b.lowerName)?b.match=2:W.test(b.lowerName)?b.match=1:b.match=0;return b.match},p=function(a){return a.match=a[c]+0||0},n=function(a){for(var b=0,c,C=!0;b<u.length;){c=
u[b].test(null,a.nameObject,a);if(u[b].cancel){if(!c){C=!0;break}}else c&&(C=!1);b++}return a.match=C?0:1},t=function(a){for(var b=0,c,C=!0;b<a.requirements.length;){c=a.requirements[b].test(null,k.nameObject,k);if(a.requirements[b].cancel){if(!c){C=!0;break}}else c&&(C=!1);b++}return a.match=C?0:1},Ga=function(b){return b.match=b.lowerName===a?1:0},E=function(b){return b.match=b.lowerName===a||b.raw&&b.raw.lowerName===a||b.cook&&b.cook.lowerName===a?1:0},r=function(a,b){var c,C;return a.match===
b.match?(c=a.raw?a.raw.name:a.name,C=b.raw?b.raw.name:b.name,c!==C?c>C?1:c<C?-1:0:a.name===b.name?0:a.raw===b?1:-1):b.match-a.match};return function(y,v,F){l=!!F;a=v.toLowerCase();if(b.test(a))return c=a.split(I)[1],y.filter(p).sort(r);if(d.test(a))return c=a.split(e)[1],y.filter(function(a){return!p(a)}).sort(r);if(J.test(a))return(u=g.byName(a.split(f)[1].toLowerCase()))?(u=u.requirements,y.filter(n).sort(r)):[];if(h.test(a))return(k=m.byName(a.split(Fa)[1].toLowerCase()))?y.filter(t).sort(r):[];
if(0===a.indexOf("*"))return a=a.substring(1),y.filter(Ga).sort(r);if(0===a.indexOf("~"))return a=a.substring(1),y.filter(E).sort(r);ka=new RegExp("\\b"+a+".*");W=new RegExp("\\b"+a.split("").join(".*")+".*");return y.filter(q).sort(r)}}(),X=function(a,c,b){var I,d,e;for(I=0;I<a.length;I++)if(e=a[I],null!==e)for(d in c[e.id]=1+(c[e.id]||0),e)e.hasOwnProperty(d)&&"perish"!==d&&!isNaN(e[d])?b[d]=e[d]+(b[d]||0):"perish"===d&&(b[d]=Math.min(b[d]||A,e[d]))},la=function(){var a,c;return function(b,d,e,
ja){var u,J;b.length=0;a={};c={};X(d,a,c);d=0;a:for(;d<g.length;d++)if(J=!1,0!==(g[d].dlcMask&B)){for(u=0;u<g[d].requirements.length;u++)if(g[d].requirements[u].test(null,a,c))g[d].requirements[u].cancel||(J=!0);else if(!ja&&g[d].requirements[u].cancel)continue a;else if(ja&&!g[d].requirements[u].cancel)continue a;!J||e&&-1!==e.indexOf(g[d])||b.push(g[d])}c.img="";c.name="Combined";return b}}(),Ha=function(){var a=[],c,b;return function(d){a.length=0;c={};b={};X(d,c,b);for(d=0;d<g.length;d++)g[d].test(null,
c,b)&&0!==(g[d].dlcMask&B)&&a.push(g[d]);a.sort(function(a,b){return b.priority-a.priority});b.img="";b.name="Combined";b.priority=" ";b.perish=0;b.cooktime=0;a.unshift(b);return a}}(),M=function(){var a=document.createElement("canvas"),c=a.getContext&&a.toDataURL&&a.getContext("2d"),b=document.createElement("canvas"),d=b.getContext&&b.getContext("2d"),e={},f={},u=!!c,J=[],g=function(g){var k=function(g,k){c.clearRect(0,0,64,64);c.drawImage(k,0,0,64,64);d.clearRect(0,0,32,32);d.drawImage(k,0,0,32,
32);try{e[g]=a.toDataURL(),f[g]=b.toDataURL()}catch(h){u=!1}J.filter(function(a){return a.url===g}).forEach(function(a){a.url===g&&(delete a.img.dataset.pending,O&&a.img.removeAttribute("data-pending"),a.img.src=32===a.d?f[g]||g:e[g]||g)});J=J.filter(function(a){return a.url!==g})};return function(a){k(g,a.target)}},k=function(a,b,c){a.dataset.pending=b;O&&a.setAttribute("data-pending",b);J.push({url:b,img:a,d:c})},h=function(a,b){var c=new Image,d;u?e[a]?c.src=32===b?f[a]:e[a]:(null!==e[a]&&(e[a]=
null,d=new Image,d.addEventListener("load",g(a),!1),d.src=a),k(c,a,b)):c.src=a;return c};a.width=64;a.height=64;b.width=32;b.height=32;h.queue=k;return h}(),da=function(){var a=/\[([^\|]*)\|([^\|\]]*)\|?([^\|\]]*)\]/,c=/([^\|]\]\[[^\|]+\|[^\|\]]+)\|?([^\|\](?:left)]*)(?=\])/g,b=/(\[[^\|]+\|[^\|\]]+)\|?([^\|\]]*)(?=\]\[)(?!\]\[\|)/g,d=function(a,b,c){return b+"|"+(0===c.length?"left":c+" left")},e=function(a,b,c){return b+"|"+(0===c.length?"right":c+" right")},g=/_(\w)/g,u=function(a,b){return" "+
b.toUpperCase()};return function(f){var k=f&&f.replace(c,d).replace(c,d).replace(b,e);f=k&&k.split(a);var h,l,m,W;if(f&&1!==f.length)for(k=document.createDocumentFragment(),k.appendChild(document.createTextNode(f[0])),h=1;h<f.length;h+=4)""===f[h]&&""===f[h+1]?k.appendChild(document.createElement("br")):(l=document.createElement("span"),l.className=""===f[h+2]?"link":"link "+f[h+2],l.dataset.link=f[h],O&&l.setAttribute("data-link",f[h]),f[h+1]&&0===f[h+1].indexOf("img/")?(l.appendChild(document.createTextNode(f[h+
1].split(" ").slice(1).join(" "))),m=f[h+1].split(" ")[0],W=M(m,32),W.title=(m.substr(4,1).toUpperCase()+m.substr(5).replace(g,u)).split(".")[0],l.appendChild(W)):l.appendChild(document.createTextNode(f[h+1]?f[h+1]:f[h])),k.appendChild(l)),k.appendChild(document.createTextNode(f[h+3]));return k}}(),h,k=0,ma=document.getElementById("main"),Ia=document.getElementById("food"),Ja=document.getElementById("recipes"),ea=document.getElementById("navbar"),O=!1;document.documentElement.dataset||(O=!0,Object.defineProperty(Element.prototype,
"dataset",{get:function(){this.ds||(this.ds={},Array.prototype.forEach.call(this.attributes,function(a){0===a.name.indexOf("data-")&&(this.ds[a.name.substring(5)]=a.value)},this));return this.ds}}));document.getElementById("stalehealth").appendChild(document.createTextNode(Math.round(333)/10+"%"));document.getElementById("stalehunger").appendChild(document.createTextNode(Math.round(667)/10+"%"));document.getElementById("spoiledhunger").appendChild(document.createTextNode(Math.round(500)/10+"%"));
document.getElementById("spoiledsanity").appendChild(document.createTextNode(10));document.getElementById("perishground").appendChild(document.createTextNode(Math.round(1500)/10+"%"));document.getElementById("perishwinter").appendChild(document.createTextNode(Math.round(750)/10+"%"));document.getElementById("perishsummer").appendChild(document.createTextNode(Math.round(1250)/10+"%"));document.getElementById("perishfridge").appendChild(document.createTextNode(Math.round(500)/10+"%"));f=function(a,
c){return"[tag:"+a+"|"+(c||a)+"]"};for(h in m)if(m.hasOwnProperty(h)){var e=m[h];e.match=0;e.lowerName=e.name.toLowerCase();e.id=h;e.nameObject={};e.nameObject[h]=1;e.img="img/"+e.name.replace(/ /g,"_").replace(/'/g,"").toLowerCase()+".png";-1!==h.indexOf("_cooked")&&(e.cooked=!0);m[h+"_cooked"]&&(e.cook=m[h+"_cooked"],m[h+"_cooked"].raw=e);"string"===typeof e.cook&&(e.cook=m[e.cook]);e.info=[];q=e.info;e.fruit&&q.push(f("fruit")+(1===e.fruit?"":"\u00d7"+e.fruit));e.veggie&&q.push(f("veggie","vegetable")+
(1===e.veggie?"":"\u00d7"+e.veggie));e.meat&&q.push(f("meat")+(1===e.meat?"":"\u00d7"+e.meat));e.egg&&q.push(f("egg")+(1===e.egg?"":"\u00d7"+e.egg));e.fish&&q.push(f("fish")+(1===e.fish?"":"\u00d7"+e.fish));e.magic&&q.push(f("magic"));e.decoration&&q.push(f("decoration"));e.inedible&&q.push(f("inedible"));e.monster&&q.push(f("monster","monster food"));e.sweetener&&q.push(f("sweetener"));e.fat&&q.push(f("fat"));e.dairy&&q.push(f("dairy"));e.comment&&q.push(e.comment);m[k++]=e}m.length=k;k=0;for(h in g)g.hasOwnProperty(h)&&
(g[h].match=0,g[h].name=g[h].name||h,g[h].id=h,g[h].lowerName=g[h].name.toLowerCase(),g[h].weight=g[h].weight||1,g[h].priority=g[h].priority||0,g[h].img="img/"+g[h].name.replace(/ /g,"_").replace(/'/g,"").toLowerCase()+".png",g[h].requirements&&(g[h].requires=da(g[h].requirements.join("; ")+(g[h].dlc?"; [tag:"+g[h].dlc+"|img/"+w[g[h].dlc].img+"]":""))),g[h].dlc?g[h][g[h].dlc]=!0:(g[h].vanilla=!0,g[h].dlc="vanilla"),g[h].dlcMask=w[g[h].dlc].bit,g[h].temperature&&(g[h].note=g[h].note?g[h].note+"; ":
"",g[h].note+="Provides "+g[h].temperature+" heat for "+g[h].temperatureduration+" seconds"),g[k++]=g[h]);g.length=k;g.forEach=Array.prototype.forEach;g.filter=Array.prototype.filter;g.sort=Array.prototype.sort;g.byName=function(a){for(var c=this.length;c--;)if(this[c].lowerName===a)return this[c]};var k=function(a,c){return a+"[recipe:"+c.name+"|"+c.img+"]"},fa=function(a,c,b){return 1===c?a:a+(b||"s")};for(h in m)m.hasOwnProperty(h)&&isNaN(h)&&isNaN(m[h])&&(e=m[h],q=e.info,e.cooked&&q.push("from [*"+
e.raw.name+"|"+e.raw.img+"]"),e.cook&&q.push("cook: [*"+e.cook.name+"|"+e.cook.img+"]"),e.dry&&(e.dry instanceof Object||(e.dry=m[e.dry]),q.push("dry in "+e.drytime/n+" "+fa("day",e.drytime/n)+": [*"+e.dry.name+"|"+e.dry.img+"]")),e.dlc?(e[e.dlc]=!0,q.push("requires [tag:"+e.dlc+"|img/"+w[e.dlc].img+"]")):(e.vanilla=!0,e.dlc="vanilla"),e.dlcMask=w[e.dlc].bit,e.info=q.join("; "),e.uncookable?e.info+=(e.info?"[|]":"")+"cannot be added to crock pot":(e.recipes=[],g.forEach(function(a){for(var c=!1,b=
a.requirements,d=b.length;d--;)if(b[d].test(null,e.nameObject,e))b[d].cancel||c||(c=!0);else if(b[d].cancel){c=!1;break}c&&e.recipes.push(a)}),0<e.recipes.length&&(e.ingredient=!0,e.info+=e.recipes.reduce(k,"[|][ingredient:"+e.name+"|Recipes] "))),e.note&&(e.info+="[|]"+e.note),e.info=da(e.info));m.forEach=Array.prototype.forEach;m.filter=Array.prototype.filter;m.sort=Array.prototype.forEach;m.byName=function(a){for(var c=this.length;c--;)if(this[c].lowerName===a)return this[c]};var S="id health hunger fruit veggie meat egg fish magic decoration inedible monster sweetener fat dairy".split(" "),
Ka=function(a,c,b){var d=b||[0,0,0,0],e,f=0,u=0;return function(b){for(var g;b--&&1<=a;){c(d);d[0]++;for(g=0;d[g]>=a;)g++,d[g]++;e=4;for(f=0;e--;)d[e]>=a?d[e]=f:d[e]>f&&(f=d[e]);if(4===g)return!1;u++}return!0}};K=G=void 0;m.filter(function(a){return!a.uncookable&&!a.skip&&(a.ideal||!a.cook&&(!a.raw||!a.raw.ideal))}).map(function(a){for(var c={},b=S.length;b--;)a.hasOwnProperty(S[b])&&(c[S[b]]=a[S[b]]);return c});G=g.filter(function(a){return!a.trash}).sort(function(a,c){return c.priority-a.priority});
K=G.map(function(a){return a.test});G.map(function(a){return a.test.toString()});G.map(function(a){return a.priority});var La=function(a,c,b,d){var e=K.length,f=[],u=0,g,h=60,k=function(b){return a[b]},l=Ka(a.length,function(a){a=a.map(k);var b,c=null,d={},u={},g=null,h=!1,l=K,I=G;X(a,d,u);for(b=0;b<e&&(null===c||I[b].priority>=c);b++)l[b](null,d,u)&&(null!==g&&(h=!0,g.multiple=!0),g={recipe:I[b],ingredients:a,tags:{health:u.health,hunger:u.hunger},multiple:h},f.push(g),c=I[b].priority)}),m=function(){var a=
!1,e=Date.now();for(l(h)?setTimeout(m,0):a=!0;u<f.length&&f[u];u++)c(f[u]);g!==Date.now()-e&&(g=Date.now()-e+1,h=38/g*h+1|0);b&&b();a&&d&&d()};m()},T;(function(){var a=ea.getElementsByTagName("li"),c={},b={},d,e,f=function(a){T(a.target.dataset.tab)},u;T=function(a){e.className="";e=c[a];d.style.display="none";d=b[a];e.className="selected";d.style.display="block"};for(h=0;h<a.length;h++)u=a[h],u.dataset.tab&&(c[u.dataset.tab]=u,b[u.dataset.tab]=document.getElementById(u.dataset.tab),b[u.dataset.tab].style.display=
"none",u.addEventListener("selectstart",function(a){a.preventDefault()},!1),u.addEventListener("click",f,!1));e=c.simulator;d=b.simulator;window.localStorage&&localStorage.foodGuideState&&(a=JSON.parse(localStorage.foodGuideState),a.activeTab&&c[a.activeTab]&&(e=c[a.activeTab],d=b[a.activeTab],B=a.dlcMask||w.shipwrecked.mask));e.className="selected";d.style.display="block";window.addEventListener("beforeunload",function(){var a;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState=
"{}"),a=JSON.parse(localStorage.foodGuideState),a.activeTab=e.dataset.tab,a.dlcMask=B,localStorage.foodGuideState=JSON.stringify(a))})})();var Ma=function(a){a.dataset.pending&&M.queue(a,a.dataset.pending,32)},ga=function(a){var c,b,d,e=document.createElement("tr"),f;for(c=1;c<arguments.length;c++)b=document.createElement(a),f=(d=arguments[c])&&d.indexOf?d:d.toString(),d instanceof DocumentFragment?(b.appendChild(d.cloneNode(!0)),Array.prototype.forEach.call(b.getElementsByTagName("img"),Ma)):0===
f.indexOf("img/")?(d=M(f),b.appendChild(d)):b.appendChild(document.createTextNode(f)),e.appendChild(b);return e},U=function(a,c,b,d,e,f,u,g,h,k){var l,m,q,p=!1,n,r,v,z=function(a,c,d){k&&!(v<k)||g&&!g(a)||(c=b(a),u&&u(a,d)&&(c.className="highlighted",n||(n=c),r=c),l.appendChild(c),v++)},t=function(b,d,u){var g,h;if(d||b&&""!==b.target.dataset.sort||q){g=d||b&&b.target.dataset.sort||q;e&&(h=c.shift());"name"===g?c.sort(function(a,b){var c=a.raw?a.raw.name:a.name,d=b.raw?b.raw.name:b.name;return c!==
d?c>d?1:c<d?-1:0:a.name===b.name?0:a.raw===b?1:-1}):c.sort(function(a,b){var c=a[g],d=b[g];return isNaN(c)||isNaN(d)?isNaN(c)&&isNaN(d)?0:isNaN(c)?1:-1:d-c});if(d||b)q===g?p=!p:(q=g,p=!1);p&&c.reverse();e&&c.unshift(h)}b=document.createElement("tr");for(m in a)d=document.createElement("th"),-1===m.indexOf(":")?d.appendChild(document.createTextNode(m)):(d.appendChild(document.createTextNode(m.split(":")[0])),d.title=m.split(":")[1]),a[m]&&(a[m]===q&&(d.style.background=p?"#555":"#ccc",d.style.color=
p?"#ccc":"#555",d.style.borderRadius="4px"),d.style.cursor="pointer",d.dataset.sort=a[m],d.addEventListener("click",t,!1)),b.appendChild(d);d=l;l=document.createElement("table");l.appendChild(b);r=n=null;v=0;c.forEach(z);f&&(l.className="links",Array.prototype.forEach.call(l.getElementsByClassName("link"),function(a){a.addEventListener("click",f,!1)}));d&&d.parentNode.replaceChild(l,d);u&&(n&&n.offsetTop+l.offsetTop+ma.offsetTop+n.offsetHeight>window.scrollY+window.innerHeight?n.scrollIntoView(!0):
r&&r.offsetTop+l.offsetTop+ma.offsetTop<window.scrollY&&r.scrollIntoView(!1))};d?t(null,d):t();l.update=function(a){t(null,null,a)};l.setMaxRows=function(a){k=a;this.update()};return l},z=function(a){return isNaN(a)?"":0<a?"+"+a:a},na=function(a,c){return a<c?(c-a)/Math.abs(a):a>c?-(a-c)/Math.abs(a):0},ha=function(a,c){return isNaN(a)||a===c?"":" ("+z((100*(a<c?(c-a)/Math.abs(a):a>c?-(a-c)/Math.abs(a):0)).toFixed(0))+"%)"},oa=function(a){return ga("td",a.img?a.img:"",a.name,z(a.health),z(a.hunger),
isNaN(a.sanity)?"":z(a.sanity),isNaN(a.perish)?"Never":a.perish/n+" "+fa("day",a.perish/n),a.info||"")},ca=function(a,c,b,d){return ga("td",a.img?a.img:"",a.name,z(a.health)+ha(c,a.health),z(a.hunger)+ha(b,a.hunger),isNaN(a.sanity)?"":z(a.sanity)+ha(d,a.sanity),isNaN(a.perish)?"Never":a.perish/n+" "+fa("day",a.perish/n),(a.cooktime*qa+.5|0)+" secs",a.priority||"0",a.requires||"",a.note||"")};(function(){var a,c=[],b=[],d=function(a){return 0!==(a.dlcMask&B)},e=U({"":"",Name:"name",Health:"health",
Hunger:"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish",Info:""},Array.prototype.slice.call(m),oa,"name",!1,function(d){d=d.target?"IMG"===d.target.tagName?d.target.parentNode.dataset.link:d.target.dataset.link:d;"recipe:"===d.substring(0,7)||"ingredient:"===d.substring(0,11)?(T("crockpot"),"recipe:"===d.substring(0,7)&&(d="*"+d.substring(7)),b=N(g,d),f.update(!0)):(a!==d?(a=d,c=N(m,d)):(a="",c.length=0),e.update(!0))},function(a){return-1!==c.indexOf(a)},d),f=U({"":"",Name:"name",Health:"health",
Hunger:"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},Array.prototype.slice.call(g),ca,"name",!1,function(d){d=d.target?"IMG"===d.target.tagName?d.target.parentNode.dataset.link:d.target.dataset.link:d;var h=d.substring(d.indexOf(":")+1);w[h]?(b=N(g,d),f.update(!0)):(T("foodlist"),a=d,c=N(m,d),e.update(!0))},function(a){return-1!==
b.indexOf(a)},d);Ia.appendChild(e);Ja.appendChild(f);Z.push(function(){e.update();f.update()})})();var Na=function(a,c){return a+"[ingredient:"+m[c.id].name+"|"+m[c.id].img+"]"},pa=function(a){var c=document.createElement("button");c.appendChild(document.createTextNode("Calculate efficient recipes (may take some time)"));c.className="makablebutton";c.addEventListener("click",function(){var b=[],d=a?a.length:null,e,f,h=[],k,l,q,p,n,r=[],v=[],aa,R,w,A=function(a){return-1!==v.indexOf(a.id)},t=function(a){return-1!==
this.indexOf(m[a])},B=function(a){-1!==v.indexOf(a.target.dataset.id)&&v.splice(v.indexOf(a.target.dataset.id),1);-1!==r.indexOf(a.target.dataset.id)?(r.splice(r.indexOf(a.target.dataset.id),1),a.target.className=""):(r.push(a.target.dataset.id),a.target.className="selected");w.update()},E=function(a){-1!==r.indexOf(a.target.dataset.id)&&r.splice(r.indexOf(a.target.dataset.id),1);-1!==v.indexOf(a.target.dataset.id)?(v.splice(v.indexOf(a.target.dataset.id),1),a.target.className=""):(v.push(a.target.dataset.id),
a.target.className="excluded");w.update();a.preventDefault()},x=[],y=[],D=function(a){f&&(f.className="");for(var b=0;b<y.length;b++)y[b].className="";x.length=0;y.length=0;e===a.target.dataset.recipe?e=f=null:(e=a.target.dataset.recipe,f=a.target,a.target.className="selected");w.update()},F=function(a){f&&(f.className="",e=f=null);var b=y.indexOf(a.target);-1!==b?(x.splice(b,1),y.splice(b,1),a.target.className=""):(x.push(a.target.dataset.recipe),y.push(a.target),a.target.className="excluded");w.update();
a.preventDefault()};null===d&&(d=m.length,a=m);for(;d--;)a[d].cook&&-1===b.indexOf(a[d].cook)&&!a[d].cook.uncookable&&b.push(a[d].cook),a[d].uncookable||!a[d].ideal&&a[d].cook&&!a[d].cook.uncookable||-1!==b.indexOf(a[d])||b.push(a[d]);aa=[];w=U({"":"",Name:"name",Health:"health","Health+:Health gained compared to ingredients":"healthpls",Hunger:"hunger","Hunger+:Hunger gained compared to ingredients":"hungerpls",Ingredients:""},aa,function(a){var b=a.recipe;return ga("td",b.img?b.img:"",b.name,z(b.health),
z(a.healthpls)+" ("+z(100*a.healthpct|0)+"%)",z(b.hunger),z(a.hungerpls)+" ("+z(100*a.hungerpct|0)+"%)",da(a.ingredients.reduce(Na,"")+(a.multiple?"*":"")))},"hungerpls",!1,null,null,function(a){return(!e||a.recipe.name===e)&&(0===x.length||-1===x.indexOf(a.recipe.name))&&(!v.length||!a.ingredients.some(A))&&(!r.length||r.every(t,a.ingredients))},0,15);R=document.createElement("div");l=document.createElement("div");l.appendChild(document.createTextNode("Computing combinations.."));d=document.createElement("div");
d.appendChild(document.createTextNode("* combination has multiple possible results"));R.appendChild(l);k=document.createElement("div");k.className="recipeFilter";R.appendChild(k);q=document.createElement("div");q.className="foodFilter";b.forEach(function(a){var b=M(a.img,32);b.dataset.id=a.id;b.addEventListener("click",B,!1);b.addEventListener("contextmenu",E,!1);b.title=a.name;q.appendChild(b)});R.appendChild(q);p=document.createElement("div");n=document.createElement("input");n.type="text";n.placeholder=
"use custom filter";n.className="customFilterInput";p.appendChild(n);R.appendChild(w);c.parentNode.replaceChild(R,c);R.appendChild(d);La(b,function(a){var b,c;if(-1===h.indexOf(a.recipe.name)){for(b=0;b<h.length&&!(a.recipe.name<h[b]);b++);h.splice(b,0,a.recipe.name);c=M(g.byName(h[b].toLowerCase()).img);c.dataset.recipe=h[b];c.addEventListener("click",D,!1);c.addEventListener("contextmenu",F,!1);c.title=a.recipe.name;b<k.childNodes.length?k.insertBefore(c,k.childNodes[b]):k.appendChild(c)}a.name||
(a.name=a.recipe.name,a.health=a.recipe.health,a.ihealth=a.tags.health,a.healthpls=a.recipe.health-a.tags.health,a.hunger=a.recipe.hunger,a.ihunger=a.tags.hunger,a.hungerpls=a.recipe.hunger-a.tags.hunger,a.healthpct=na(a.tags.health,a.recipe.health),a.hungerpct=na(a.tags.hunger,a.recipe.hunger),a.sanity=a.recipe.sanity,a.perish=a.recipe.perish);aa.push(a)},function(){l.firstChild.textContent="Found "+aa.length+" valid recipes.. (you can change Food Guide tabs during this process)"},function(){w.setMaxRows(30);
l.firstChild.textContent="Found "+aa.length+" valid recipes. Showing top 30 for selected recipe using all selected ingredients. Right-click to exclude recipes or ingredients."})},!1);return c};document.getElementById("statistics").appendChild(pa());var Oa=function(a,c){return a.reduce(function(a,d){return Math.max(a,d[c]||0)},-1E5)};window.food=m;window.recipes=g;window.matchingNames=N;var Y=function(a,c){if(null!==c)a.dataset.id=c.id;else{if(a.nextSibling&&null!==P(a.nextSibling)){Y(a,P(a.nextSibling));
Y(a.nextSibling,null);return}a.dataset.id=null}null!==c?a.firstChild?a.replaceChild(M(c.img),a.firstChild):a.appendChild(M(c.img)):a.firstChild&&a.removeChild(a.firstChild);a.title=c?c.name:""},P=function(a){return a&&(m[a.dataset.id]||g[a.dataset.id]||null)};(function(){for(var a=document.getElementsByClassName("ingredientpicker"),c=a.length;c--;)(function(){var b=document.createElement("span"),d,e=document.createElement("div"),f=document.createElement("ul"),h=a[c],k=c,l,q="recipes"===h.dataset.type?
g:m,r=!h.dataset.cookable,n=h.nextSibling,p=n.getElementsByClassName("ingredient"),v,w=[],x,z=[],A=[],t=null,B=!1,E=document.getElementById("results"),D=document.getElementById("discoverfood"),y=document.getElementById("discover"),G=document.getElementById("makable"),F=document.createElement("span"),C=function(a,b){for(var c=a;c.previousSibling;)if(c=c.previousSibling,b(c))return c;return null},L=function(a,b){for(var c=a;c.nextSibling;)if(c=c.nextSibling,b(c))return c;return null},K=!1,O=function(a){var b=
m[a]||g[a]||null;if(v){for(a=0;a<p.length;a++)if(null===P(p[a]))return Y(p[a],b),B&&x(),a;return-1}-1===p.indexOf(a)&&(p.push(a),a=document.createElement("span"),a.className="ingredient",Y(a,b),a.addEventListener("click",Q,!1),n.appendChild(a),B&&x());return 1},S=function(a){-1!==O(("IMG"===a.target.tagName?a.target.parentNode:a.target).dataset.id)&&a&&a.preventDefault&&a.preventDefault()},T=function(a){var b=M(a.img,32),c=document.createElement("span");c.appendChild(b);c.appendChild(document.createTextNode(a.name));
c.dataset.id=a.id;-1!==w.indexOf(a)&&(c.style.opacity=.5);c.addEventListener("mousedown",S,!1);this.appendChild(c);this.dataset.length++},V=function(a){-1!==w.indexOf(m[a.dataset.id])?a.style.opacity||(a.style.opacity=.5):a.style.opacity&&a.style.removeProperty("opacity")},Q=function(a){var b="IMG"===a.target.tagName?a.target.parentNode:a.target;if(v){if(null!==P(b))return Y(b,null),x(),b.dataset.id}else return a=p.indexOf(b.dataset.id),p.splice(a,1),n.removeChild(b),x(),p[a]||null},ba=function(){var a;
d.splitTag();a=N(q,d.getSearch(),r);e.removeChild(f);f=document.createElement("div");f.dataset.length=0;a.forEach(T,f);e.appendChild(f);t=null},X=function(a){a="IMG"===a.target.tagName?a.target.parentNode.dataset.link:a.target.dataset.link;var b=N(q,a,r);1===b.length?O(b[0].id):(h.value=a,ba())},H;"ingredients"===n.id?x=function(){var a,b,c,d,e;w=Array.prototype.map.call(p,function(a){return P(a)});a=Ha(w);b=a[0].health;c=a[0].hunger;d=a[0].sanity;e=U({"":"",Name:"name",Health:"health",Hunger:"hunger",
Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},a,function(a){return ca(a,b,c,d)},"priority",!0,X,function(a,b){return 0<b.length&&a.priority===Oa(b,"priority")});E.firstChild&&E.removeChild(E.firstChild);E.firstChild&&(E.removeChild(E.firstChild),E.removeChild(E.firstChild));E.appendChild(e);null!==w[0]&&(la(z,w,a),0<z.length&&
(E.appendChild(document.createTextNode("Add more ingredients to make:")),e=U({"":"",Name:"name","Health:(% more than ingredients)":"health","Hunger:(% more than ingredients)":"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},z,function(a){return ca(a,b,c,d)},"priority",!1,X),E.appendChild(e)));f&&f.firstChild&&Array.prototype.forEach.call(f.getElementsByTagName("span"),
V)}:"inventory"===n.id&&(x=function(){var a;w=Array.prototype.map.call(n.getElementsByClassName("ingredient"),function(a){return P(a)});D.firstChild&&D.removeChild(D.firstChild);y.firstChild&&y.removeChild(y.firstChild);G.firstChild&&G.removeChild(G.firstChild);0<w.length&&(a=U({"":"",Name:"name",Health:"health",Hunger:"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish",Info:""},w,oa,"name"),D.appendChild(a),la(A,w,null,!0),0<A.length&&(a=U({"":"",Name:"name",Health:"health",Hunger:"hunger",
Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},A,ca,"name"),y.appendChild(a),G.appendChild(pa(w))));f&&f.firstChild&&Array.prototype.forEach.call(f.getElementsByTagName("span"),V)});0!==p.length?(v=!0,Array.prototype.forEach.call(p,function(a){Y(a,null);a.addEventListener("click",Q,!1)})):(p=[],v=!1);window.localStorage&&localStorage.foodGuideState&&
(l=JSON.parse(localStorage.foodGuideState).pickers)&&l[k]&&l[k].forEach(function(a){m[a]&&O(a)});B=!0;b.className="searchselector retracted";b.appendChild(document.createTextNode("name"));d=function(){var a=document.createElement("div"),c=!1,d=null,e=[{title:"name",prefix:"",placeholder:"Filter ingredients"},{title:"tag",prefix:"tag:",placeholder:"Meat, veggie, fruit, egg, monster..."},{title:"recipe",prefix:"recipe:",placeholder:"Find ingredients used in a recipe"}],f=e[0],g=null,k=function(){c=
!1;a.style.height="0px";b.style.borderBottomLeftRadius="3px";a.style.borderTopLeftRadius="3px";null!==g&&(clearTimeout(g),g=null);b.className="searchselector retracted"},l=function(a){f=a;h.placeholder=f.placeholder;b.firstChild.textContent=f.title},m=function(a){l(e[a.target.dataset.typeIndex]);ba();k()},n=/: */;b.addEventListener("click",function(){c?k():(null===d&&(a.style.height="auto",a.style.left=b.offsetLeft,a.style.top=b.offsetTop+b.offsetHeight,d=a.offsetHeight+"px",a.style.height="0px"),
c=!0,a.style.height=d,b.style.borderBottomLeftRadius="0px",a.style.borderTopLeftRadius="0px",a.style.width="auto",a.style.width=Math.max(a.offsetWidth,b.offsetWidth+1)+"px",null!==g&&(clearTimeout(g),g=null),b.className="searchselector extended")},!1);b.addEventListener("selectstart",function(a){a.preventDefault()},!1);b.addEventListener("mouseout",function(){null!==g&&clearTimeout(g);g=setTimeout(k,500)},!1);b.addEventListener("mouseover",function(){null!==g&&(clearTimeout(g),g=null)},!1);a.addEventListener("mouseout",
function(){null!==g&&clearTimeout(g);g=setTimeout(k,500)},!1);a.addEventListener("mouseover",function(){null!==g&&(clearTimeout(g),g=null)},!1);e.forEach(function(b,c){var d=document.createElement("div");d.appendChild(document.createTextNode(b.title));d.dataset.typeIndex=c;d.addEventListener("click",m,!1);b.element=d;a.appendChild(d)});h.parentNode.insertBefore(b,h);a.className="searchdropdown";h.parentNode.insertBefore(a,h);return{getTag:function(){return f.title},setSearchType:function(a){l(e[a])},
getSearch:function(){return f.prefix+h.value},splitTag:function(){var a;a=h.value.split(n);var b,c;if(2===a.length)for(b=a[0].toLowerCase()+":",c=a[1],a=0;a<e.length;a++)if(b===e[a].prefix){l(e[a]);h.value=c;break}}}}();e.className="ingredientdropdown";e.appendChild(f);e.addEventListener("mousedown",function(a){a.preventDefault()},!1);(function(){var a=N(q,d.getSearch(),r);e.removeChild(f);f=document.createElement("div");f.dataset.length=0;a.forEach(T,f);e.appendChild(f)})();F.className="clearingredients";
F.appendChild(document.createTextNode("clear"));F.addEventListener("click",function(){if(""===h.value&&"name"===d.getTag())for(;P(n.firstChild);)Q({target:n.firstChild});else h.value="",d.setSearchType(0),ba()},!1);F.addEventListener("mouseover",function(){""===h.value&&"name"===d.getTag()&&(F.firstChild.textContent="clear chosen ingredients")},!1);F.addEventListener("mouseout",function(){"clear"!==F.firstChild.textContent&&(F.firstChild.textContent="clear")},!1);n.parentNode.insertBefore(F,n);n.parentNode.insertBefore(e,
n);h.addEventListener("keydown",function(a){var b;-1!==[16,17,37,38,39,40,13].indexOf(a.keyCode)&&(b=t,13===a.keyCode?(null===t&&(t=f.firstChild||null),null!==t&&S({target:t})):null===t?40===a.keyCode&&(t=f.childNodes[1]||f.firstChild||null,null!==t&&(H=t.offsetLeft+t.offsetWidth/2,a.preventDefault())):(a.preventDefault(),37===a.keyCode?(t=t.previousSibling&&t.previousSibling.offsetTop===t.offsetTop?t.previousSibling:(a=L(t,function(a){return a.offsetTop!==t.offsetTop}))?a.previousSibling:f.lastChild,
null!==t&&(H=t.offsetLeft+t.offsetWidth/2)):39===a.keyCode?(t=t.nextSibling&&t.nextSibling.offsetTop===t.offsetTop?t.nextSibling:(a=C(t,function(a){return a.offsetTop!==t.offsetTop}))?a.nextSibling:f.firstChild,null!==t&&(H=t.offsetLeft+t.offsetWidth/2)):38===a.keyCode?((a=C(t,function(a){return H>=a.offsetLeft-1&&H<=a.offsetLeft+a.offsetWidth+1}))||(a=C(f.lastChild,function(a){return H>=a.offsetLeft-1&&H<=a.offsetLeft+a.offsetWidth+1})),t=a?a:f.firstChild):40===a.keyCode&&((a=L(t,function(a){return H>=
a.offsetLeft-1&&H<=a.offsetLeft+a.offsetWidth+1}))||(a=L(f.firstChild,function(a){return H>=a.offsetLeft-1&&H<=a.offsetLeft+a.offsetWidth+1})),t=a?a:f.lastChild)),t!==b&&(null!==b&&(b.className=""),null!==t&&(t.className="selected")))},!1);h.addEventListener("keyup",function(a){-1===[16,17,37,38,39,40,13].indexOf(a.keyCode)?ba():null!==t&&a.preventDefault()},!1);h.addEventListener("focus",function(){K||(K=!0)},!1);h.addEventListener("blur",function(){K&&(K=!1)},!1);x();window.addEventListener("beforeunload",
function(){var a,b;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.pickers||(a.pickers=[]),v?(b=[],b=Array.prototype.map.call(p,function(a){return(a=P(a))?a.id:null}),a.pickers[k]=b):a.pickers[k]=p,localStorage.foodGuideState=JSON.stringify(a))});Z.push(ba);Z.push(x)})()})();var q=function(a){V(w[a.target.dataset.dlc].mask)},k=function(a){V(B^w[a.target.dataset.dlc].bit);a.preventDefault()},L=document.createElement("li");
ea.insertBefore(L,ea.firstChild);L.className="dlc";for(var ia in w)f=M("img/"+w[ia].img),f.dataset.dlc=ia,f.addEventListener("click",q,!1),f.addEventListener("contextmenu",k,!1),f.title=w[ia].name+"\nleft-click to select\nright-click to toggle",L.appendChild(f);V(B)})();
