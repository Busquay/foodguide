(function(){var K,L,n=480,p=1*n,u=3*n,g=6*n,f=10*n,q=15*n,E=20*n,F=40*n,l=2*n,ma=n/16*.6666,Y=[],D=7,w={vanilla:{name:"Vanilla",img:"vanilla.png",bit:1,mask:1,color:"#ff592e"},giants:{name:"Reign of Giants",img:"reign_of_giants.png",bit:2,mask:3,color:"#b857c6"},shipwrecked:{name:"Shipwrecked",img:"shipwrecked.png",bit:4,mask:7,color:"#50c1cc"},together:{name:"Together",img:"together.png",bit:8,mask:11,color:"#c0c0c0"}},U=function(a){D=a;for(a=0;a<M.childNodes.length;a++){var d=M.childNodes[a];d.className=
0!==(D&w[d.dataset.dlc].bit)?"enabled":""}for(a=0;a<Y.length;a++)Y[a]()},m={acorn:{name:"Birchnut",uncookable:!0,hunger:9.375,health:1,sanity:0,perish:E,stack:40,dlc:"giants"},acorn_cooked:{name:"Roasted Birchnut",ideal:!0,seed:1,hunger:9.375,health:1,sanity:0,perish:g,stack:40,dlc:"giants"},butter:{name:"Butter",fat:1,dairy:1,health:40,hunger:25,sanity:0,perish:F,stack:40},butterflywings:{name:"Butterfly Wings",isveggie:!0,decoration:2,health:8,hunger:9.375,sanity:0,perish:g,stack:40},cactusflower:{name:"Cactus Flower",
veggie:.5,hunger:12.5,health:8,sanity:5,perish:u,stack:40,dlc:"giants"},deerclopseyeball:{name:"Deerclops Eyeball",uncookable:!0,health:60,hunger:75,sanity:-15},bird_egg:{name:"Egg",egg:1,health:0,hunger:9.375,sanity:0,perish:f,stack:40,rot:"rottenegg"},bird_egg_cooked:{name:"Cooked Egg",egg:1,precook:1,health:0,hunger:12.5,sanity:0,perish:g,stack:40},rottenegg:{name:"Rotten Egg",uncookable:!0,health:-1,hunger:-10,sanity:0,stack:40},cutlichen:{name:"Lichen",isveggie:!0,veggie:1,health:3,hunger:12.5,
sanity:-5,perish:2*n},eel:{name:"Eel",ismeat:!0,meat:.5,fish:1,health:3,hunger:9.375,sanity:0,perish:u,stack:40,dry:"morsel_dried",drytime:n},eel_cooked:{name:"Cooked Eel",ismeat:!0,health:8,hunger:12.5,sanity:0,perish:g,stack:40},fish:{name:"Fish",ismeat:!0,meat:.5,fish:1,health:1,hunger:12.5,sanity:0,perish:u,stack:40,drytime:n,dry:"morsel_dried"},fish_cooked:{name:"Cooked Fish",ismeat:!0,meat:.5,fish:1,precook:1,health:1,hunger:12.5,sanity:0,perish:g,stack:40},froglegs:{name:"Frog Legs",ismeat:!0,
meat:.5,health:0,hunger:12.5,perish:g,sanity:-10,stack:40},froglegs_cooked:{name:"Cooked Frog Legs",ismeat:!0,meat:.5,precook:1,health:1,hunger:12.5,perish:f,sanity:0,stack:40},foliage:{name:"Foliage",uncookable:!0,health:1,hunger:0,sanity:0,perish:g,stack:40},goatmilk:{name:"Electric Milk",dairy:1,health:3,hunger:12.5,sanity:10,perish:g,stack:40,dlc:"giants"},honey:{name:"Honey",sweetener:!0,health:3,hunger:9.375,sanity:0,perish:F,stack:40},honeycomb:{name:"Honeycomb",sweetener:!0},ice:{name:"Ice",
frozen:1,health:.5,hunger:2.34375,sanity:0,perish:u,stack:40,dlc:"giants"},lightbulb:{name:"Light Bulb",health:1,hunger:0,sanity:0,perish:g,stack:40,uncookable:!0},mandrake:{name:"Mandrake",veggie:1,magic:1,health:60,hunger:75,sanity:0,stack:40},mandrake_cooked:{name:"Cooked Mandrake",uncookable:!0,veggie:1,magic:1,precook:1,health:100,hunger:150,sanity:0,stack:40},mole:{name:"Moleworm",ideal:!0,meat:.5,perish:2*n,cook:"morsel_cooked",dlc:"giants"},plantmeat:{name:"Leafy Meat",uncookable:!0,health:0,
hunger:12.5,sanity:-10,perish:g,stack:40},plantmeat_cooked:{name:"Cooked Leafy Meat",uncookable:!0,health:1,hunger:18.75,sanity:0,perish:f,stack:40},monstermeat:{name:"Monster Meat",ismeat:!0,meat:1,monster:!0,health:-20,hunger:18.75,sanity:-15,perish:g,stack:20,dry:"monstermeat_dried",drytime:n},monstermeat_cooked:{name:"Cooked Monster Meat",ismeat:!0,meat:1,monster:!0,precook:1,health:-3,hunger:18.75,sanity:-10,perish:q,stack:20},monstermeat_dried:{name:"Monster Jerky",ismeat:!0,meat:1,monster:!0,
dried:1,health:-3,hunger:18.75,sanity:-5,perish:E,stack:20},meat:{name:"Meat",ismeat:!0,meat:1,health:1,hunger:25,sanity:-10,perish:g,stack:20,dry:"meat_dried",drytime:l},meat_cooked:{name:"Cooked Meat",ismeat:!0,meat:1,precook:1,health:3,hunger:25,sanity:0,perish:f,stack:20},meat_dried:{name:"Jerky",ismeat:!0,meat:1,dried:1,health:20,hunger:25,sanity:15,perish:E,stack:20},morsel:{name:"Morsel",ismeat:!0,meat:.5,health:0,hunger:12.5,sanity:-10,perish:g,stack:40,drytime:n,dry:"morsel_dried"},morsel_cooked:{name:"Cooked Morsel",
raw:"morsel",ismeat:!0,meat:.5,precook:1,health:1,hunger:12.5,sanity:0,perish:f,stack:40},morsel_dried:{name:"Small Jerky",wet:"morsel",ismeat:!0,meat:.5,dried:1,health:8,hunger:12.5,sanity:10,perish:E,stack:40},drumstick:{name:"Drumstick",ismeat:!0,ideal:!0,meat:.5,health:0,hunger:12.5,sanity:-10,perish:g,stack:20,drytime:n,dry:"morsel_dried"},drumstick_cooked:{name:"Fried Drumstick",ismeat:!0,meat:.5,precook:1,health:1,hunger:12.5,sanity:0,perish:f,stack:20},batwing:{name:"Batilisk Wing",ismeat:!0,
health:3,hunger:12.5,sanity:-10,perish:g,stack:40,drytime:l,dry:"morsel_dried",uncookable:!0},batwing_cooked:{name:"Cooked Batilisk Wing",ismeat:!0,health:8,hunger:18.75,sanity:0,perish:f,uncookable:!0},minotaurhorn:{name:"Guardian's Horn",uncookable:!0,ismeat:!0,health:60,hunger:75,sanity:-15},red_mushroom:{name:"Red Cap",basename:"CapRed",veggie:.5,ideal:!0,health:-20,hunger:12.5,sanity:0,perish:f,stack:40},red_mushroom_cooked:{name:"Cooked Red Cap",veggie:.5,health:1,hunger:0,sanity:-10,perish:f,
stack:40},green_mushroom:{name:"Green Cap",basename:"CapGreen",veggie:.5,ideal:!0,health:0,hunger:12.5,sanity:-50,perish:f,stack:40},green_mushroom_cooked:{name:"Cooked Green Cap",veggie:.5,health:-1,hunger:0,sanity:15,perish:f,stack:40},blue_mushroom:{name:"Blue Cap",basename:"CapBlue",veggie:.5,ideal:!0,health:20,hunger:12.5,sanity:-15,perish:f,stack:40},blue_mushroom_cooked:{name:"Cooked Blue Cap",veggie:.5,health:-3,hunger:0,sanity:10,perish:f,stack:40},petals:{name:"Petals",uncookable:!0,health:1,
hunger:0,sanity:0,perish:g,stack:40},petals_evil:{name:"Dark Petals",basename:"Petals.",uncookable:!0,health:0,hunger:0,sanity:-5,perish:g,stack:40},seeds:{name:"Seeds",uncookable:!0,health:0,hunger:4.6875,sanity:0,perish:F,stack:40},seeds_cooked:{name:"Toasted Seeds",uncookable:!0,health:1,hunger:4.6875,sanity:0,perish:f,stack:40},spoiled_food:{name:"Rot",uncookable:!0,health:-1,hunger:-10,sanity:0,stack:40},tallbirdegg:{name:"Tallbird Egg",egg:4,health:3,hunger:25,sanity:0},tallbirdegg_cooked:{name:"Fried Tallbird Egg",
egg:4,precook:1,health:0,hunger:37.5,sanity:0,perish:g},trunk_summer:{name:"Koalefant Trunk",uncookable:!0,ismeat:!0,health:30,hunger:37.5,sanity:0,perish:g,stack:20},trunk_summer_cooked:{name:"Koalefant Trunk Steak",uncookable:!0,ismeat:!0,health:40,hunger:75,sanity:0,perish:q,stack:20},twigs:{name:"Twigs",inedible:1},cavebanana:{name:"Banana",ideal:!0,isfruit:!0,fruit:1,health:1,hunger:12.5,sanity:0,perish:f},cavebanana_cooked:{name:"Cooked Banana",isfruit:!0,fruit:1,precook:1,health:3,hunger:12.5,
sanity:0,perish:g},carrot:{name:"Carrot",isveggie:!0,veggie:1,health:1,hunger:12.5,perish:f,sanity:0,stack:40},carrot_cooked:{name:"Roasted Carrot",isveggie:!0,veggie:1,precook:1,health:3,hunger:12.5,perish:g,sanity:0,stack:40},corn:{name:"Corn",ideal:!0,isveggie:!0,veggie:1,health:3,hunger:25,perish:f,sanity:0,stack:40},corn_cooked:{name:"Popcorn",isveggie:!0,veggie:1,precook:1,health:3,hunger:12.5,perish:q,sanity:0,stack:40},pumpkin:{name:"Pumpkin",isveggie:!0,veggie:1,health:3,hunger:37.5,perish:f,
sanity:0,stack:20},pumpkin_cooked:{name:"Hot Pumpkin",isveggie:!0,veggie:1,precook:1,health:8,hunger:37.5,perish:g,sanity:0,stack:20},eggplant:{name:"Eggplant",isveggie:!0,veggie:1,health:8,hunger:25,perish:f,sanity:0,stack:20},eggplant_cooked:{name:"Braised Eggplant",isveggie:!0,veggie:1,precook:1,health:20,hunger:25,perish:g,sanity:0,stack:20},durian:{name:"Durian",isfruit:!0,monster:1,fruit:1,health:-3,hunger:25,perish:f,sanity:-5,stack:20},durian_cooked:{name:"Extra Smelly Durian",isfruit:!0,
monster:1,fruit:1,precook:1,health:0,hunger:25,perish:g,sanity:-5,stack:20},pomegranate:{name:"Pomegranate",isfruit:!0,fruit:1,health:3,hunger:9.375,perish:g,sanity:0,stack:40},pomegranate_cooked:{name:"Sliced Pomegranate",isfruit:!0,fruit:1,precook:1,health:20,hunger:12.5,perish:u,sanity:0,stack:40},dragonfruit:{name:"Dragon Fruit",isfruit:!0,fruit:1,health:3,hunger:9.375,perish:g,sanity:0,stack:40},dragonfruit_cooked:{name:"Prepared Dragon Fruit",isfruit:!0,fruit:1,precook:1,health:20,hunger:12.5,
perish:u,sanity:0,stack:40},berries:{name:"Berries",isfruit:!0,fruit:.5,health:0,hunger:9.375,perish:g,sanity:0,stack:40},berries_cooked:{name:"Roasted Berries",isfruit:!0,fruit:.5,precook:1,health:1,hunger:12.5,perish:u,sanity:0,stack:40},cactusmeat:{name:"Cactus Flesh",ideal:!0,veggie:1,hunger:12.5,health:-3,perish:f,sanity:-5,stack:40,dlc:"giants"},cactusmeat_cooked:{name:"Cooked Cactus Flesh",veggie:1,hunger:12.5,health:1,perish:f,sanity:15,precook:1,stack:40,dlc:"giants"},watermelon:{name:"Watermelon",
fruit:1,ideal:!0,hunger:12.5,health:3,perish:g,sanity:5,stack:40,dlc:"giants"},watermelon_cooked:{name:"Grilled Watermelon",fruit:1,hunger:12.5,health:1,perish:u,sanity:7.5,precook:1,stack:40,dlc:"giants"},wormlight:{name:"Glow Berry",uncookable:!0,health:11,hunger:18.75,sanity:-10,perish:f,note:"Gives 90 seconds of light"},glommerfuel:{name:"Glommer's Goop",uncookable:!0,health:40,hunger:9.375,sanity:-50,dlc:"giants"},coral_brain:{name:"Brainy Matter",uncookable:!0,health:-10,hunger:10,sanity:50,
perish:p,dlc:"shipwrecked"},blubber:{name:"Blubber",uncookable:!0,health:10,hunger:10,sanity:0,perish:f,stack:10,dlc:"shipwrecked"},seaweed:{name:"Seaweed",ideal:!0,veggie:1,health:1,hunger:9.375,sanity:-10,perish:g,stack:40,dry:"seaweed_dried",drytime:n,dlc:"shipwrecked"},seaweed_cooked:{name:"Roasted Seaweed",veggie:1,health:3,hunger:9.375,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},seaweed_dried:{name:"Dried Seaweed",veggie:1,health:3,hunger:12.5,sanity:0,perish:E,stack:40,dlc:"shipwrecked"},
sweet_potato:{name:"Sweet Potato",veggie:1,health:1,hunger:12.5,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},sweet_potato_cooked:{name:"Cooked Sweet Potato",veggie:1,health:3,hunger:12.5,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},coffeebeans:{name:"Coffee Beans",fruit:.5,health:0,hunger:9.375,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},coffeebeans_cooked:{name:"Roasted Coffee Beans",ideal:!0,fruit:1,health:0,hunger:9.375,sanity:-5,perish:q,stack:40,note:"Gives 5 bonus speed (+83%) for 30 seconds",
dlc:"shipwrecked"},coconut:{name:"Coconut",fruit:1,fat:1,health:0,hunger:4.6875,sanity:0,perish:E,stack:40,dlc:"shipwrecked"},coconut_halved:{name:"Halved Coconut",basename:"Coconut.",uncookable:!0,fruit:1,fat:1,health:1,hunger:4.6875,sanity:0,perish:f,stack:40,cook:"coconut_cooked",dlc:"shipwrecked"},coconut_cooked:{name:"Roasted Coconut",fruit:1,fat:1,health:1,hunger:9.375,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},doydoyegg:{name:"Doydoy Egg",egg:1,health:3,hunger:25,sanity:0,perish:f,dlc:"shipwrecked"},
doydoyegg_cooked:{name:"Fried Doydoy Egg",egg:1,health:0,hunger:37.5,sanity:0,perish:g,dlc:"shipwrecked"},tropical_fish:{name:"Tropical Fish",skip:!0,ismeat:!0,meat:.5,fish:1,health:1,hunger:12.5,sanity:0,perish:u,stack:40,cook:"fish_raw_small_cooked",dry:"morsel_dried",drytime:n,dlc:"shipwrecked"},fish_raw:{name:"Raw Fish",meat:.5,fish:1,health:1,hunger:25,sanity:0,perish:u,stack:40,cook:"fish_med_cooked",dry:"meat_dried",drytime:n,dlc:"shipwrecked"},fish_med:{name:"Dead Dogfish",meat:.5,fish:1,
health:1,hunger:25,sanity:0,perish:g,stack:40,rot:"spoiled_fish",dry:"meat_dried",drytime:n,dlc:"shipwrecked"},dead_swordfish:{name:"Swordfish",uncookable:!0,health:1,hunger:25,sanity:0,perish:g,stack:40,cook:"fish_med_cooked",rot:"spoiled_fish",dry:"meat_dried",drytime:n,dlc:"shipwrecked"},fish_med_cooked:{name:"Fish Steak",meat:.5,fish:1,health:20,hunger:25,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},shark_fin:{name:"Shark Fin",meat:.5,fish:1,health:20,hunger:25,sanity:-15,perish:g,stack:10,dlc:"shipwrecked"},
limpets:{name:"Limpets",ideal:!0,fish:.5,health:0,hunger:12.5,sanity:-10,perish:g,stack:40,dlc:"shipwrecked"},limpets_cooked:{name:"Cooked Limpets",fish:.5,health:1,hunger:12.5,sanity:0,perish:f,stack:40,dlc:"shipwrecked"},mussel:{name:"Mussel",fish:.5,health:0,hunger:12.5,sanity:-10,perish:u,stack:40,dlc:"shipwrecked"},mussel_cooked:{name:"Cooked Mussel",fish:.5,health:1,hunger:12.5,sanity:0,perish:u,stack:40,dlc:"shipwrecked"},mysterymeat:{name:"Bile-Covered Slop",uncookable:!0,health:-1,hunger:-10,
sanity:0,stack:20,dlc:"shipwrecked"},jellyfish:{name:"Jellyfish",fish:1,jellyfish:1,monster:1,perish:1.5*p,stack:40,dlc:"shipwrecked"},jellyfish_dead:{name:"Dead Jellyfish",basename:"Jellyfish.",fish:1,jellyfish:1,monster:1,health:10,hunger:10,sanity:0,perish:g,stack:20,cook:"jellyfish_cooked",dry:"jellyfish_dried",drytime:n,dlc:"shipwrecked"},jellyfish_cooked:{name:"Cooked Jellyfish",fish:1,jellyfish:1,monster:1,health:10,hunger:18.75,sanity:0,perish:f,stack:20,dlc:"shipwrecked"},jellyfish_dried:{name:"Dried Jellyfish",
fish:1,jellyfish:1,monster:1,health:10,hunger:18.75,sanity:0,perish:E,stack:20,dlc:"shipwrecked"},lobster:{name:"Wobster",fish:2,perish:2*n,dlc:"shipwrecked"},lobster_dead:{name:"Dead Wobster",basename:"Wobster.",uncookable:!0,health:1,hunger:12.5,sanity:0,perish:u,stack:10,cook:"lobster_cooked",dlc:"shipwrecked"},lobster_cooked:{name:"Delicious Wobster",uncookable:!0,health:1,hunger:12.5,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},crab:{name:"Crab",skip:!0,fish:.5,perish:2*n,cook:"fish_raw_small_cooked",
dlc:"shipwrecked"},fish_raw_small:{name:"Fish Morsel",fish:.5,health:1,hunger:12.5,perish:u,sanity:0,stack:40,dry:"morsel_dried",drytime:n,dlc:"shipwrecked"},fish_raw_small_cooked:{name:"Cooked Fish Morsel",fish:.5,health:1,hunger:12.5,sanity:0,perish:g,stack:40,dlc:"shipwrecked"},tigereye:{name:"Eye of the Tiger Shark",uncookable:!0,health:60,hunger:75,sanity:-15,stack:10,dlc:"shipwrecked"},dragoonheart:{name:"Dragoon Heart",uncookable:!0,health:11,hunger:25,sanity:-10,perish:f,stack:10,note:"Gives 90 seconds of light",
dlc:"shipwrecked"},wormlight_lesser:{name:"Lesser Glowberry",uncookable:!0,health:3,hunger:12.5,sanity:-10,perish:u,stack:40,note:"Gives 22.5 seconds of light",dlc:"together"},phlegm:{name:"Phlegm",uncookable:!0,health:0,hunger:12.5,sanity:-15,perish:u,stack:40,dlc:"together"}},na=function(){return this.op+this.qty},oa={"=":function(a){return a===this.qty},">":function(a){return a>this.qty},"<":function(a){return a<this.qty},">=":function(a){return a>=this.qty},"<=":function(a){return a<=this.qty}},
V={test:function(a){return!!a},toString:function(){return""}},p=function(a,d){return{op:a,qty:d,test:oa[a],toString:na}},pa=function(a,d,b){return this.item1.test(a,d,b)&&this.item2.test(a,d,b)},qa=function(){return this.item1+" and "+this.item2},ra=function(a,d,b){return this.item1.test(a,d,b)||this.item2.test(a,d,b)},sa=function(){return this.item1+" or "+this.item2},F=function(a,d){return{item1:a,item2:d,test:ra,toString:sa,cancel:a.cancel||d.cancel}},ta=function(a,d,b){return!this.item.test(a,
d,b)},ua=function(){return this.item.toString().substring(0,this.item.toString().length-1)+"|strike]"},l=function(a){return{item:a,test:ta,toString:ua,cancel:!0}},va=function(a,d,b){return(d[this.name]||0)+(d[this.name+"_cooked"]||0)},wa=function(){return"[*"+m[this.name].name+"|"+m[this.name].img+" "+m[this.name].name+"]"+(m[this.name].cook?"[*"+m[this.name].cook.name+"|"+m[this.name].cook.img+"]":"")+(m[this.name].raw?"[*"+m[this.name].raw.name+"|"+m[this.name].raw.img+"]":"")+(this.qty?this.qty:
"")},z=function(a,d){return{name:a,qty:d||V,test:va,toString:wa}},xa=function(a,d,b){return d[this.name]},ya=function(){return"[*"+m[this.name].name+"|"+m[this.name].img+" "+m[this.name].name+"]"+(this.qty?this.qty:"")},r=function(a,d){return{name:a,qty:d||V,test:xa,toString:ya}},za=function(a,d,b){return b[this.tag]},Aa=function(){return"[tag:"+this.tag+"|"+this.tag+"]"+(this.qty?this.qty:"")},e=function(a,d){return{tag:a,qty:d||V,test:za,toString:Aa}},k={butterflymuffin:{name:"Butter Muffin",test:function(a,
d,b){return d.butterflywings&&!b.meat&&b.veggie},requires:"Butterfly Wings, veggie",requirements:[z("butterflywings"),l(e("meat")),e("veggie")],priority:1,weight:1,foodtype:"veggie",health:20,hunger:37.5,perish:q,sanity:5,cooktime:2},frogglebunwich:{name:"Froggle Bunwich",test:function(a,d,b){return(d.froglegs||d.froglegs_cooked)&&b.veggie},requirements:[z("froglegs"),e("veggie")],priority:1,foodtype:"meat",health:20,hunger:37.5,perish:q,sanity:5,cooktime:2},taffy:{name:"Taffy",test:function(a,d,
b){return b.sweetener&&3<=b.sweetener&&!b.meat},requirements:[e("sweetener",p(">=",3)),l(e("meat"))],priority:10,foodtype:"veggie",health:-3,hunger:25,perish:q,sanity:15,cooktime:2,tags:["honeyed"]},pumpkincookie:{name:"Pumpkin Cookie",test:function(a,d,b){return(d.pumpkin||d.pumpkin_cooked)&&b.sweetener&&2<=b.sweetener},requirements:[z("pumpkin"),e("sweetener",p(">=",2))],priority:10,foodtype:"veggie",health:0,hunger:37.5,perish:f,sanity:15,cooktime:2,tags:["honeyed"]},stuffedeggplant:{name:"Stuffed Eggplant",
test:function(a,d,b){return(d.eggplant||d.eggplant_cooked)&&b.veggie&&1<b.veggie},requirements:[z("eggplant"),e("veggie",p(">",1))],priority:1,foodtype:"veggie",health:3,hunger:37.5,perish:q,sanity:5,temperature:40,temperatureduration:5,cooktime:2},fishsticks:{name:"Fishsticks",test:function(a,d,b){return b.fish&&d.twigs&&b.inedible&&1>=b.inedible},requirements:[e("fish"),r("twigs"),e("inedible"),e("inedible",p("<=",1))],priority:10,foodtype:"meat",health:40,hunger:37.5,perish:f,sanity:5,cooktime:2},
honeynuggets:{name:"Honey Nuggets",test:function(a,d,b){return d.honey&&b.meat&&1.5>=b.meat&&!b.inedible},requirements:[r("honey"),e("meat",p("<=",1.5)),l(e("inedible"))],priority:2,foodtype:"meat",health:20,hunger:37.5,perish:q,sanity:5,cooktime:2,tags:["honeyed"]},honeyham:{name:"Honey Ham",test:function(a,d,b){return d.honey&&b.meat&&1.5<b.meat&&!b.inedible},requirements:[r("honey"),e("meat",p(">",1.5)),l(e("inedible"))],priority:2,foodtype:"meat",health:30,hunger:75,perish:q,sanity:5,temperature:40,
temperatureduration:10,cooktime:2,tags:["honeyed"]},dragonpie:{name:"Dragonpie",test:function(a,d,b){return(d.dragonfruit||d.dragonfruit_cooked)&&!b.meat},requirements:[z("dragonfruit"),l(e("meat"))],priority:1,foodtype:"veggie",health:40,hunger:75,perish:q,sanity:5,temperature:40,temperatureduration:10,cooktime:2},kabobs:{name:"Kabobs",test:function(a,d,b){return b.meat&&d.twigs&&(!b.monster||1>=b.monster)&&b.inedible&&1>=b.inedible},requirements:[e("meat"),r("twigs"),F(l(e("monster")),e("monster",
p("<=",1))),e("inedible"),e("inedible",p("<=",1))],priority:5,foodtype:"meat",health:3,hunger:37.5,perish:q,sanity:5,cooktime:2},mandrakesoup:{name:"Mandrake Soup",test:function(a,d,b){return d.mandrake},requirements:[r("mandrake")],priority:10,foodtype:"veggie",health:100,hunger:150,perish:g,sanity:5,cooktime:3},baconeggs:{name:"Bacon and Eggs",test:function(a,d,b){return b.egg&&1<b.egg&&b.meat&&1<b.meat&&!b.veggie},requirements:[e("egg",p(">",1)),e("meat",p(">",1)),l(e("veggie"))],priority:10,foodtype:"meat",
health:20,hunger:75,perish:E,sanity:5,cooktime:2},meatballs:{name:"Meatballs",test:function(a,d,b){return b.meat&&!b.inedible},requirements:[e("meat"),l(e("inedible"))],priority:-1,foodtype:"meat",health:3,hunger:62.5,perish:f,sanity:5,cooktime:.75},bonestew:{name:"Meaty Stew",test:function(a,d,b){return b.meat&&3<=b.meat&&!b.inedible},requirements:[e("meat",p(">=",3)),l(e("inedible"))],priority:0,foodtype:"meat",health:12,hunger:150,perish:f,sanity:5,temperature:40,temperatureduration:15,cooktime:.75},
perogies:{name:"Pierogi",test:function(a,d,b){return b.egg&&b.meat&&b.veggie&&!b.inedible},requirements:[e("egg"),e("meat"),e("veggie"),l(e("inedible"))],priority:5,foodtype:"meat",health:40,hunger:37.5,perish:E,sanity:5,temperature:40,temperatureduration:10,cooktime:1},turkeydinner:{name:"Turkey Dinner",test:function(a,d,b){return d.drumstick&&1<d.drumstick&&b.meat&&1<b.meat&&(b.veggie||b.fruit)},requirements:[r("drumstick",p(">",1)),e("meat",p(">",1)),F(e("veggie"),e("fruit"))],priority:10,foodtype:"meat",
health:20,hunger:75,perish:g,sanity:5,temperature:40,temperatureduration:10,cooktime:3},ratatouille:{name:"Ratatouille",test:function(a,d,b){return!b.meat&&b.veggie&&!b.inedible},requirements:[l(e("meat")),e("veggie"),l(e("inedible"))],priority:0,foodtype:"veggie",health:3,hunger:25,perish:q,sanity:5,temperature:-40,temperatureduration:5,cooktime:1},jammypreserves:{name:"Fist Full of Jam",test:function(a,d,b){return b.fruit&&!b.meat&&!b.veggie&&!b.inedible},requirements:[e("fruit"),l(e("meat")),l(e("veggie")),
l(e("inedible"))],priority:0,foodtype:"veggie",health:3,hunger:37.5,perish:q,sanity:5,cooktime:.5},fruitmedley:{name:"Fruit Medley",test:function(a,d,b){return b.fruit&&3<=b.fruit&&!b.meat&&!b.veggie},requirements:[e("fruit",p(">=",3)),l(e("meat")),l(e("veggie"))],priority:0,foodtype:"veggie",health:20,hunger:25,perish:g,sanity:5,temperature:-40,temperatureduration:5,cooktime:.5},fishtacos:{name:"Fish Tacos",test:function(a,d,b){return b.fish&&(d.corn||d.corn_cooked)},requirements:[e("fish"),z("corn")],
priority:10,foodtype:"meat",health:20,hunger:37.5,perish:g,sanity:5,cooktime:.5,tags:["monstermeat"]},waffles:{name:"Waffles",test:function(a,d,b){return d.butter&&(d.berries||d.berries_cooked)&&b.egg},requirements:[r("butter"),z("berries"),e("egg")],priority:10,foodtype:"veggie",health:60,hunger:37.5,perish:g,sanity:5,cooktime:.5},monsterlasagna:{name:"Monster Lasagna",test:function(a,d,b){return b.monster&&2<=b.monster&&!b.inedible},requirements:[e("monster",p(">=",2)),l(e("inedible"))],priority:10,
foodtype:"meat",health:-20,hunger:37.5,perish:g,sanity:-20,cooktime:.5},powcake:{name:"Powdercake",test:function(a,d,b){return d.twigs&&d.honey&&(d.corn||d.corn_cooked)},requirements:[r("twigs"),r("honey"),z("corn")],priority:10,foodtype:"veggie",health:-3,hunger:0,perish:9E6,sanity:0,cooktime:.5,tags:["honeyed"]},unagi:{name:"Unagi",test:function(a,d,b){return d.cutlichen&&(d.eel||d.eel_cooked)},requirements:[r("cutlichen"),z("eel")],priority:20,foodtype:"veggie",health:20,hunger:18.75,perish:f,
sanity:5,cooktime:.5},wetgoop:{name:"Wet Goop",test:function(a,d,b){return!0},requirements:[],trash:!0,priority:-2,health:0,hunger:0,perish:g,sanity:0,cooktime:.25},flowersalad:{name:"Flower Salad",test:function(a,d,b){return d.cactusflower&&b.veggie&&2<=b.veggie&&!b.meat&&!b.inedible&&!b.egg&&!b.sweetener&&!b.fruit},requirements:[r("cactusflower"),e("veggie",p(">=",2)),l(e("meat")),l(e("inedible")),l(e("egg")),l(e("sweetener")),l(e("fruit"))],priority:10,foodtype:"veggie",health:40,hunger:12.5,perish:g,
sanity:5,cooktime:.5,dlc:"giants"},icecream:{name:"Ice Cream",test:function(a,d,b){return b.frozen&&b.dairy&&b.sweetener&&!b.meat&&!b.veggie&&!b.inedible&&!b.egg},requirements:[e("frozen"),e("dairy"),e("sweetener"),l(e("meat")),l(e("veggie")),l(e("inedible")),l(e("egg"))],priority:10,foodtype:"veggie",health:0,hunger:25,perish:u,sanity:50,temperature:-40,temperatureduration:15,cooktime:.5,dlc:"giants"},watermelonicle:{name:"Melonsicle",test:function(a,d,b){return d.watermelon&&b.frozen&&d.twigs&&
!b.meat&&!b.veggie&&!b.egg},requirements:[r("watermelon"),e("frozen"),r("twigs"),l(e("meat")),l(e("veggie")),l(e("egg"))],priority:10,foodtype:"veggie",health:3,hunger:12.5,perish:u,sanity:20,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"giants"},trailmix:{name:"Trail Mix",test:function(a,d,b){return d.acorn_cooked&&b.seed&&1<=b.seed&&(d.berries||d.berries_cooked)&&b.fruit&&1<=b.fruit&&!b.meat&&!b.veggie&&!b.egg&&!b.dairy},requirements:[r("acorn_cooked"),e("seed",p(">=",1)),z("berries"),
e("fruit",p(">=",1)),l(e("meat")),l(e("veggie")),l(e("egg")),l(e("dairy"))],priority:10,foodtype:"veggie",health:30,hunger:12.5,perish:q,sanity:5,cooktime:.5,dlc:"giants"},hotchili:{name:"Spicy Chili",test:function(a,d,b){return b.meat&&b.veggie&&1.5<=b.meat&&1.5<=b.veggie},requirements:[e("meat",p(">=",1.5)),e("veggie",p(">=",1.5))],priority:10,foodtype:"meat",health:20,hunger:37.5,perish:f,sanity:0,temperature:40,temperatureduration:15,cooktime:.5,dlc:"giants"},guacamole:{name:"Guacamole",test:function(a,
d,b){return d.mole&&d.cactusmeat&&!b.fruit},requirements:[r("mole"),r("cactusmeat"),l(e("fruit"))],priority:10,foodtype:"meat",health:20,hunger:37.5,perish:f,sanity:0,cooktime:.5,dlc:"giants"},californiaroll:{name:"California Roll",test:function(a,d,b){return d.seaweed&&2==d.seaweed&&b.fish&&1<=b.fish},requirements:[r("seaweed",p("==",2)),e("fish",p(">=",1))],priority:20,foodtype:"meat",health:20,hunger:50,perish:f,sanity:10,cooktime:.5,dlc:"shipwrecked"},seafoodgumbo:{name:"Seafood Gumbo",test:function(a,
d,b){return b.fish&&2<b.fish},requirements:[e("fish",p(">",2))],priority:10,foodtype:"meat",health:40,hunger:37.5,perish:f,sanity:20,cooktime:1,dlc:"shipwrecked"},bisque:{name:"Bisque",test:function(a,d,b){return d.limpets&&3==d.limpets&&b.frozen},requirements:[r("limpets",p("==",3)),e("frozen")],priority:30,foodtype:"meat",health:60,hunger:18.75,perish:f,sanity:5,cooktime:1,dlc:"shipwrecked"},ceviche:{name:"Ceviche",test:function(a,d,b){return b.fish&&2<=b.fish&&b.frozen},requirements:[e("fish",
p(">=",2)),e("frozen")],priority:20,foodtype:"meat",health:20,hunger:25,perish:f,sanity:5,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"shipwrecked"},jellyopop:{name:"Jelly-O Pop",test:function(a,d,b){return b.jellyfish&&b.frozen&&b.inedible},requirements:[e("jellyfish"),e("frozen"),e("inedible")],priority:20,foodtype:"meat",health:20,hunger:12.5,perish:u,sanity:0,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"shipwrecked"},bananapop:{name:"Banana Pop",test:function(a,d,b){return d.cavebanana&&
b.frozen&&b.inedible&&!b.meat&&!b.fish},requirements:[r("cavebanana"),e("frozen"),e("inedible"),l(e("meat")),l(e("fish"))],priority:20,foodtype:"veggie",health:20,hunger:12.5,perish:u,sanity:33,temperature:-40,temperatureduration:10,cooktime:.5,dlc:"shipwrecked"},lobsterbisque:{name:"Lobster Bisque",test:function(a,d,b){return d.lobster&&b.frozen},requirements:[r("lobster"),e("frozen")],priority:30,foodtype:"meat",health:60,hunger:25,perish:f,sanity:10,cooktime:.5,dlc:"shipwrecked"},lobsterdinner:{name:"Lobster Dinner",
test:function(a,d,b){return d.lobster&&d.butter&&!b.meat&&!b.frozen},requirements:[r("lobster"),r("butter"),l(e("meat")),l(e("frozen"))],priority:25,foodtype:"meat",health:60,hunger:37.5,perish:q,sanity:50,cooktime:1,dlc:"shipwrecked"},sharkfinsoup:{name:"Shark Fin Soup",test:function(a,d,b){return d.shark_fin},requirements:[r("shark_fin")],priority:20,foodtype:"meat",health:40,hunger:12.5,perish:f,sanity:-10,cooktime:.5,note:"Gives 10 naughtiness",dlc:"shipwrecked"},surfnturf:{name:"Surf 'n' Turf",
test:function(a,d,b){return b.meat&&2.5<=b.meat&&b.fish&&1.5<=b.fish&&!b.frozen},requirements:[e("meat",p(">=",2.5)),e("fish",p(">=",1.5)),l(e("frozen"))],priority:30,foodtype:"meat",health:60,hunger:37.5,perish:f,sanity:33,cooktime:.5,dlc:"shipwrecked"},coffee:{name:"Coffee",test:function(a,d,b){return d.coffeebeans_cooked&&(4==d.coffeebeans_cooked||3==d.coffeebeans_cooked&&(b.dairy||b.sweetener))},requirements:[F(r("coffeebeans_cooked",p("==",4)),function(a,d){return{item1:a,item2:d,test:pa,toString:qa,
cancel:a.cancel&&d.cancel}}(r("coffeebeans_cooked",p("==",3)),F(e("dairy"),e("sweetener"))))],priority:30,foodtype:"veggie",health:3,hunger:9.375,perish:f,sanity:-5,cooktime:.5,note:"Gives 5 bonus speed (+83%) for 0.5 days",dlc:"shipwrecked"}},O=function(){var a,d,b=/^tag[: ]/,c=/^tag:? */,e=/^tagnot[: ]/,H=/^tagnot:? */,v,f=/^recipe[: ]/,g=/^recipe:? */,h,l=/^ingredient[: ]/,Ca=/^ingredient:? */,x,ga,A=!1,C=function(b){!A&&b.uncookable||0===(b.dlcMask&D)?b.match=0:0===b.lowerName.indexOf(a)||b.raw&&
0===b.raw.lowerName.indexOf(a)?b.match=3:0===ga.test(b.lowerName)?b.match=2:x.test(b.lowerName)?b.match=1:b.match=0;return b.match},p=function(a){return a.match=a[d]+0||0},n=function(a){for(var b=0,d,c=!0;b<v.length;){d=v[b].test(null,a.nameObject,a);if(v[b].cancel){if(!d){c=!0;break}}else d&&(c=!1);b++}return a.match=c?0:1},t=function(a){for(var b=0,d,c=!0;b<a.requirements.length;){d=a.requirements[b].test(null,h.nameObject,h);if(a.requirements[b].cancel){if(!d){c=!0;break}}else d&&(c=!1);b++}return a.match=
c?0:1},u=function(b){return b.match=b.lowerName===a?1:0},G=function(b){return b.match=b.lowerName===a||b.raw&&b.raw.lowerName===a||b.cook&&b.cook.lowerName===a?1:0},r=function(a,b){var d,c;return a.match===b.match?(d=a.basename?a.basename:a.name,c=b.basename?b.basename:b.name,d!==c?d>c?1:d<c?-1:0:a.name===b.name?0:a.raw===b?1:-1):b.match-a.match};return function(B,q,I){A=!!I;a=q.toLowerCase();if(b.test(a))return d=a.split(c)[1],B.filter(p).sort(r);if(e.test(a))return d=a.split(H)[1],B.filter(function(a){return!p(a)}).sort(r);
if(f.test(a))return(v=k.byName(a.split(g)[1].toLowerCase()))?(v=v.requirements,B.filter(n).sort(r)):[];if(l.test(a))return(h=m.byName(a.split(Ca)[1].toLowerCase()))?B.filter(t).sort(r):[];if(0===a.indexOf("*"))return a=a.substring(1),B.filter(u).sort(r);if(0===a.indexOf("~"))return a=a.substring(1),B.filter(G).sort(r);ga=new RegExp("\\b"+a+".*");x=new RegExp("\\b"+a.split("").join(".*")+".*");return B.filter(C).sort(r)}}(),R=function(a,d,b){var c,e,H;for(c=0;c<a.length;c++)if(H=a[c],null!==H)for(e in d[H.id]=
1+(d[H.id]||0),H)H.hasOwnProperty(e)&&"perish"!==e&&!isNaN(H[e])?b[e]=H[e]+(b[e]||0):"perish"===e&&(b[e]=Math.min(b[e]||E,H[e]))},ha=function(){var a,d;return function(b,c,e,H){var v,f;b.length=0;a={};d={};R(c,a,d);d.hunger=d.bestHunger;d.health=d.bestHealth;c=0;a:for(;c<k.length;c++)if(f=!1,0!==(k[c].dlcMask&D)){for(v=0;v<k[c].requirements.length;v++)if(k[c].requirements[v].test(null,a,d))k[c].requirements[v].cancel||(f=!0);else if(!H&&k[c].requirements[v].cancel)continue a;else if(H&&!k[c].requirements[v].cancel)continue a;
!f||e&&-1!==e.indexOf(k[c])||b.push(k[c])}d.img="";d.name="Combined";return b}}(),Da=function(){var a=[],d,b;return function(c){a.length=0;d={};b={};R(c,d,b);b.hunger=b.bestHunger;b.health=b.bestHealth;for(c=0;c<k.length;c++)k[c].test(null,d,b)&&0!==(k[c].dlcMask&D)&&a.push(k[c]);a.sort(function(a,b){return b.priority-a.priority});b.img="";b.name="Combined";b.priority=" ";b.perish=0;b.cooktime=0;a.unshift(b);return a}}(),N=function(){var a=document.createElement("canvas"),d=a.getContext&&a.toDataURL&&
a.getContext("2d"),b=document.createElement("canvas"),c=b.getContext&&b.getContext("2d"),e={},f={},v=!!d,k=[],g=function(g){var h=function(g,h){d.clearRect(0,0,64,64);d.drawImage(h,0,0,64,64);c.clearRect(0,0,32,32);c.drawImage(h,0,0,32,32);try{e[g]=a.toDataURL(),f[g]=b.toDataURL()}catch(x){v=!1}k.filter(function(a){return a.url===g}).forEach(function(a){a.url===g&&(delete a.img.dataset.pending,P&&a.img.removeAttribute("data-pending"),a.img.src=32===a.d?f[g]||g:e[g]||g)});k=k.filter(function(a){return a.url!==
g})};return function(a){h(g,a.target)}},h=function(a,b,d){a.dataset.pending=b;P&&a.setAttribute("data-pending",b);k.push({url:b,img:a,d:d})},m=function(a,b){var d=new Image,c;v?e[a]?d.src=32===b?f[a]:e[a]:(null!==e[a]&&(e[a]=null,c=new Image,c.addEventListener("load",g(a),!1),c.src=a),h(d,a,b)):d.src=a;return d};a.width=64;a.height=64;b.width=32;b.height=32;m.queue=h;return m}(),W=function(){var a=/\[([^\|]*)\|([^\|\]]*)\|?([^\|\]]*)\]/,d=/([^\|]\]\[[^\|]+\|[^\|\]]+)\|?([^\|\](?:left)]*)(?=\])/g,
b=/(\[[^\|]+\|[^\|\]]+)\|?([^\|\]]*)(?=\]\[)(?!\]\[\|)/g,c=function(a,b,d){return b+"|"+(0===d.length?"left":d+" left")},e=function(a,b,d){return b+"|"+(0===d.length?"right":d+" right")},f=/_(\w)/g,v=function(a,b){return" "+b.toUpperCase()};return function(g){var k=g&&g.replace(d,c).replace(d,c).replace(b,e);g=k&&k.split(a);var h,m,l,x;if(g&&1!==g.length)for(k=document.createDocumentFragment(),k.appendChild(document.createTextNode(g[0])),h=1;h<g.length;h+=4)""===g[h]&&""===g[h+1]?k.appendChild(document.createElement("br")):
(m=document.createElement("span"),m.className=""===g[h+2]?"link":"link "+g[h+2],m.dataset.link=g[h],P&&m.setAttribute("data-link",g[h]),g[h+1]&&0===g[h+1].indexOf("img/")?(m.appendChild(document.createTextNode(g[h+1].split(" ").slice(1).join(" "))),l=g[h+1].split(" ")[0],x=N(l,32),x.title=(l.substr(4,1).toUpperCase()+l.substr(5).replace(f,v)).split(".")[0],m.appendChild(x)):m.appendChild(document.createTextNode(g[h+1]?g[h+1]:g[h])),k.appendChild(m)),k.appendChild(document.createTextNode(g[h+3]));
return k}}(),h,u=0,ia=document.getElementById("main"),Ea=document.getElementById("food"),Fa=document.getElementById("recipes"),ba=document.getElementById("navbar"),P=!1;document.documentElement.dataset||(P=!0,Object.defineProperty(Element.prototype,"dataset",{get:function(){this.ds||(this.ds={},Array.prototype.forEach.call(this.attributes,function(a){0===a.name.indexOf("data-")&&(this.ds[a.name.substring(5)]=a.value)},this));return this.ds}}));document.getElementById("stalehealth").appendChild(document.createTextNode(Math.round(333)/
10+"%"));document.getElementById("stalehunger").appendChild(document.createTextNode(Math.round(667)/10+"%"));document.getElementById("spoiledhunger").appendChild(document.createTextNode(Math.round(500)/10+"%"));document.getElementById("spoiledsanity").appendChild(document.createTextNode(10));document.getElementById("perishground").appendChild(document.createTextNode(Math.round(1500)/10+"%"));document.getElementById("perishwinter").appendChild(document.createTextNode(Math.round(750)/10+"%"));document.getElementById("perishsummer").appendChild(document.createTextNode(Math.round(1250)/
10+"%"));document.getElementById("perishfridge").appendChild(document.createTextNode(Math.round(500)/10+"%"));g=function(a,d){return"[tag:"+a+"|"+(d||a)+"]"};for(h in m)if(m.hasOwnProperty(h)){var c=m[h];c.match=0;c.lowerName=c.name.toLowerCase();c.id=h;c.nameObject={};c.nameObject[h]=1;c.img="img/"+c.name.replace(/ /g,"_").replace(/'/g,"").toLowerCase()+".png";m[h+"_cooked"]&&(c.cook=m[h+"_cooked"]);"string"===typeof c.cook&&(c.cook=m[c.cook]);c.cook&&!c.cook.raw&&(c.cook.raw=c,c.cook.cooked=!0,
c.cook.basename||(c.cook.basename=(c.basename||c.name)+"."));"string"===typeof c.raw&&(c.raw=m[c.raw],c.cooked=!0,c.basename||(c.basename=(c.raw.basename||c.raw.name)+"."));"string"===typeof c.dry&&(c.dry=m[c.dry]);c.dry&&!c.dry.wet&&(c.dry.wet=c,c.dry.rackdried=!0,c.dry.basename||(c.dry.basename=(c.basename||c.name)+".."));"string"===typeof c.wet&&(c.rackdried=!0,c.wet=m[c.wet],c.basename||(c.basename=(c.wet.basename||c.wet.name)+".."));f=c.health||0;q=c.hunger||0;c.cook&&(f=Math.max(c.cook.health||
0,f),q=Math.max(c.cook.hunger||0,q));c.raw&&(f=Math.max(c.raw.health||0,f),q=Math.max(c.raw.hunger||0,q));c.bestHealth=f;c.bestHunger=q;c.info=[];f=c.info;c.fruit&&f.push(g("fruit")+(1===c.fruit?"":"\u00d7"+c.fruit));c.veggie&&f.push(g("veggie","vegetable")+(1===c.veggie?"":"\u00d7"+c.veggie));c.meat&&f.push(g("meat")+(1===c.meat?"":"\u00d7"+c.meat));c.egg&&f.push(g("egg")+(1===c.egg?"":"\u00d7"+c.egg));c.fish&&f.push(g("fish")+(1===c.fish?"":"\u00d7"+c.fish));c.magic&&f.push(g("magic"));c.decoration&&
f.push(g("decoration"));c.inedible&&f.push(g("inedible"));c.monster&&f.push(g("monster","monster food"));c.sweetener&&f.push(g("sweetener"));c.fat&&f.push(g("fat"));c.dairy&&f.push(g("dairy"));c.comment&&f.push(c.comment);m[u++]=c}m.length=u;u=0;for(h in k)k.hasOwnProperty(h)&&(k[h].match=0,k[h].name=k[h].name||h,k[h].id=h,k[h].lowerName=k[h].name.toLowerCase(),k[h].weight=k[h].weight||1,k[h].priority=k[h].priority||0,k[h].img="img/"+k[h].name.replace(/ /g,"_").replace(/'/g,"").toLowerCase()+".png",
k[h].requirements&&(k[h].requires=W(k[h].requirements.join("; ")+(k[h].dlc?"; [tag:"+k[h].dlc+"|img/"+w[k[h].dlc].img+"]":""))),k[h].dlc?k[h][k[h].dlc]=!0:(k[h].vanilla=!0,k[h].dlc="vanilla"),k[h].dlcMask=w[k[h].dlc].bit,k[h].temperature&&(k[h].note=k[h].note?k[h].note+"; ":"",k[h].note+="Provides "+k[h].temperature+" heat for "+k[h].temperatureduration+" seconds"),k[u++]=k[h]);k.length=u;k.forEach=Array.prototype.forEach;k.filter=Array.prototype.filter;k.sort=Array.prototype.sort;k.byName=function(a){for(var d=
this.length;d--;)if(this[d].lowerName===a)return this[d]};var u=function(a,d){return a+"[recipe:"+d.name+"|"+d.img+"]"},ca=function(a,d,b){return 1===d?a:a+(b||"s")};for(h=0;h<m.length;h++)c=m[h],f=c.info,c.cooked&&f.push("from [*"+c.raw.name+"|"+c.raw.img+"]"),c.cook&&(c.cook instanceof Object||(c.cook=m[c.cook]),f.push("cook: [*"+c.cook.name+"|"+c.cook.img+"]")),c.dry&&(c.dry instanceof Object||(c.dry=m[c.dry]),f.push("dry in "+c.drytime/n+" "+ca("day",c.drytime/n)+": [*"+c.dry.name+"|"+c.dry.img+
"]")),c.dlc?(c[c.dlc]=!0,f.push("requires [tag:"+c.dlc+"|img/"+w[c.dlc].img+"]")):(c.vanilla=!0,c.dlc="vanilla"),c.dlcMask=w[c.dlc].bit,c.info=f.join("; "),c.uncookable?c.info+=(c.info?"[|]":"")+"cannot be added to crock pot":(c.recipes=[],k.forEach(function(a){for(var d=!1,b=a.requirements,e=b.length;e--;)if(b[e].test(null,c.nameObject,c))b[e].cancel||d||(d=!0);else if(b[e].cancel){d=!1;break}d&&c.recipes.push(a)}),0<c.recipes.length&&(c.ingredient=!0,c.info+=c.recipes.reduce(u,"[|][ingredient:"+
c.name+"|Recipes] "))),c.note&&(c.info+="[|]"+c.note),c.info=W(c.info);m.forEach=Array.prototype.forEach;m.filter=Array.prototype.filter;m.sort=Array.prototype.sort;m.byName=function(a){for(var d=this.length;d--;)if(this[d].lowerName===a)return this[d]};var Ga=function(a,d,b){var c=b||[0,0,0,0],e,g=0,v=0;return function(b){for(var f;b--&&1<=a;){d(c);c[0]++;for(f=0;c[f]>=a;)f++,c[f]++;e=4;for(g=0;e--;)c[e]>=a?c[e]=g:c[e]>g&&(g=c[e]);if(4===f)return!1;v++}return!0}};L=K=void 0;K=k.filter(function(a){return!a.trash}).sort(function(a,
d){return d.priority-a.priority});L=K.map(function(a){return a.test});K.map(function(a){return a.test.toString()});K.map(function(a){return a.priority});var Ha=function(a,d,b,c){var e=L.length,g=[],v=0,f,h=60,k=function(b){return a[b]},m=Ga(a.length,function(a){a=a.map(k);var b,d=null,c={},f={},v=null,h=!1,Ba=L,m=K;R(a,c,f);f.hunger=f.bestHunger;f.health=f.bestHealth;for(b=0;b<e&&(null===d||m[b].priority>=d);b++)Ba[b](null,c,f)&&(null!==v&&(h=!0,v.multiple=!0),v={recipe:m[b],ingredients:a,tags:{health:f.health,
hunger:f.hunger},multiple:h},g.push(v),d=m[b].priority)}),l=function(){var a=!1,e=Date.now();for(m(h)?setTimeout(l,0):a=!0;v<g.length&&g[v];v++)d(g[v]);f!==Date.now()-e&&(f=Date.now()-e+1,h=38/f*h+1|0);b&&b();a&&c&&c()};l()},S;(function(){var a=ba.getElementsByTagName("li"),d={},b={},c,e,g=function(a){S(a.target.dataset.tab)},f;S=function(a){e.className="";e=d[a];c.style.display="none";c=b[a];e.className="selected";c.style.display="block"};for(h=0;h<a.length;h++)f=a[h],f.dataset.tab&&(d[f.dataset.tab]=
f,b[f.dataset.tab]=document.getElementById(f.dataset.tab),b[f.dataset.tab].style.display="none",f.addEventListener("selectstart",function(a){a.preventDefault()},!1),f.addEventListener("click",g,!1));e=d.simulator;c=b.simulator;window.localStorage&&localStorage.foodGuideState&&(a=JSON.parse(localStorage.foodGuideState),a.activeTab&&d[a.activeTab]&&(e=d[a.activeTab],c=b[a.activeTab],D=a.dlcMask||w.shipwrecked.mask));e.className="selected";c.style.display="block";window.addEventListener("beforeunload",
function(){var a;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.activeTab=e.dataset.tab,a.dlcMask=D,localStorage.foodGuideState=JSON.stringify(a))})})();var Ia=function(a){a.dataset.pending&&N.queue(a,a.dataset.pending,32)},da=function(a){var d,b,c,e=document.createElement("tr"),f;for(d=1;d<arguments.length;d++)b=document.createElement(a),f=(c=arguments[d])&&c.indexOf?c:c.toString(),c instanceof DocumentFragment?(b.appendChild(c.cloneNode(!0)),
Array.prototype.forEach.call(b.getElementsByTagName("img"),Ia)):0===f.indexOf("img/")?(c=N(f),b.appendChild(c)):b.appendChild(document.createTextNode(f)),e.appendChild(b);return e},T=function(a,d,b,c,e,f,g,h,k,m){var l,p,x,n=!1,r,u,q,y=function(a,d,c){m&&!(q<m)||h&&!h(a)||(d=b(a),g&&g(a,c)&&(d.className="highlighted",r||(r=d),u=d),l.appendChild(d),q++)},t=function(b,c,g){var h,v;if(c||b&&""!==b.target.dataset.sort||x){h=c||b&&b.target.dataset.sort||x;e&&(v=d.shift());"name"===h?d.sort(function(a,
b){var d=a.basename?a.basename:a.name,c=b.basename?b.basename:b.name;return d!==c?d>c?1:d<c?-1:0:a.name===b.name?0:a.raw===b?1:-1}):d.sort(function(a,b){var d=a[h],c=b[h];return isNaN(d)||isNaN(c)?isNaN(d)&&isNaN(c)?0:isNaN(d)?1:-1:c-d});if(c||b)x===h?n=!n:(x=h,n=!1);n&&d.reverse();e&&d.unshift(v)}b=document.createElement("tr");for(p in a)c=document.createElement("th"),-1===p.indexOf(":")?c.appendChild(document.createTextNode(p)):(c.appendChild(document.createTextNode(p.split(":")[0])),c.title=p.split(":")[1]),
a[p]&&(a[p]===x&&(c.style.background=n?"#555":"#ccc",c.style.color=n?"#ccc":"#555",c.style.borderRadius="4px"),c.style.cursor="pointer",c.dataset.sort=a[p],c.addEventListener("click",t,!1)),b.appendChild(c);c=l;l=document.createElement("table");l.appendChild(b);u=r=null;q=0;d.forEach(y);f&&(l.className="links",Array.prototype.forEach.call(l.getElementsByClassName("link"),function(a){a.addEventListener("click",f,!1)}));c&&c.parentNode.replaceChild(l,c);g&&(r&&r.offsetTop+l.offsetTop+ia.offsetTop+r.offsetHeight>
window.scrollY+window.innerHeight?r.scrollIntoView(!0):u&&u.offsetTop+l.offsetTop+ia.offsetTop<window.scrollY&&u.scrollIntoView(!1))};c?t(null,c):t();l.update=function(a){t(null,null,a)};l.setMaxRows=function(a){m=a;this.update()};return l},y=function(a){return isNaN(a)?"":0<a?"+"+a:a},ja=function(a,d){return a<d?(d-a)/Math.abs(a):a>d?-(a-d)/Math.abs(a):0},ea=function(a,d){return isNaN(a)||a===d?"":" ("+y((100*(a<d?(d-a)/Math.abs(a):a>d?-(a-d)/Math.abs(a):0)).toFixed(0))+"%)"},ka=function(a){var d=
y(a.health),b=y(a.hunger),c=isNaN(a.sanity)?"":a.sanity;a.cook&&(a.cook.health!==(a.health||0)&&(d+=" ("+y(a.cook.health-(a.health||0))+")"),a.cook.hunger!==(a.hunger||0)&&(b+=" ("+y(a.cook.hunger-(a.hunger||0))+")"),a.cook.sanity!==(a.sanity||0)&&(c+=" ("+y(a.cook.sanity-(a.sanity||0))+")"));return da("td",a.img?a.img:"",a.name,d,b,c,isNaN(a.perish)?"Never":a.perish/n+" "+ca("day",a.perish/n),a.info||"")},aa=function(a,d,b,c){return da("td",a.img?a.img:"",a.name,y(a.health)+ea(d,a.health),y(a.hunger)+
ea(b,a.hunger),isNaN(a.sanity)?"":y(a.sanity)+ea(c,a.sanity),isNaN(a.perish)?"Never":a.perish/n+" "+ca("day",a.perish/n),(a.cooktime*ma+.5|0)+" secs",a.priority||"0",a.requires||"",a.note||"")};(function(){var a,d=[],b=[],c=function(a){return 0!==(a.dlcMask&D)},e=T({"":"",Name:"name",Health:"health",Hunger:"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish",Info:""},Array.prototype.slice.call(m),ka,"name",!1,function(c){c=c.target?"IMG"===c.target.tagName?c.target.parentNode.dataset.link:
c.target.dataset.link:c;"recipe:"===c.substring(0,7)||"ingredient:"===c.substring(0,11)?(S("crockpot"),"recipe:"===c.substring(0,7)&&(c="*"+c.substring(7)),b=O(k,c),f.update(!0)):(a!==c?(a=c,d=O(m,c)):(a="",d.length=0),e.update(!0))},function(a){return-1!==d.indexOf(a)},c),f=T({"":"",Name:"name",Health:"health",Hunger:"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",
Notes:""},Array.prototype.slice.call(k),aa,"name",!1,function(c){c=c.target?"IMG"===c.target.tagName?c.target.parentNode.dataset.link:c.target.dataset.link:c;var g=c.substring(c.indexOf(":")+1);w[g]?(b=O(k,c),f.update(!0)):(S("foodlist"),a=c,d=O(m,c),e.update(!0))},function(a){return-1!==b.indexOf(a)},c);Ea.appendChild(e);Fa.appendChild(f);Y.push(function(){e.update();f.update()})})();var Ja=function(a,c){return a+"[ingredient:"+m[c.id].name+"|"+m[c.id].img+"]"},la=function(a){var c=document.createElement("button");
c.appendChild(document.createTextNode("Calculate efficient recipes (may take some time)"));c.className="makablebutton";c.addEventListener("click",function(){var b=[],e=a?a.length:null,f,g,h=[],l,p,r,n,u,x=[],q=[],A,C,w,E=function(a){return-1!==q.indexOf(a.id)},t=function(a){return-1!==this.indexOf(m[a])},D=function(a){-1!==q.indexOf(a.target.dataset.id)&&q.splice(q.indexOf(a.target.dataset.id),1);-1!==x.indexOf(a.target.dataset.id)?(x.splice(x.indexOf(a.target.dataset.id),1),a.target.className=""):
(x.push(a.target.dataset.id),a.target.className="selected");w.update()},G=function(a){-1!==x.indexOf(a.target.dataset.id)&&x.splice(x.indexOf(a.target.dataset.id),1);-1!==q.indexOf(a.target.dataset.id)?(q.splice(q.indexOf(a.target.dataset.id),1),a.target.className=""):(q.push(a.target.dataset.id),a.target.className="excluded");w.update();a.preventDefault()},z=[],B=[],F=function(a){g&&(g.className="");for(var b=0;b<B.length;b++)B[b].className="";z.length=0;B.length=0;f===a.target.dataset.recipe?f=
g=null:(f=a.target.dataset.recipe,g=a.target,a.target.className="selected");w.update()},I=function(a){g&&(g.className="",f=g=null);var b=B.indexOf(a.target);-1!==b?(z.splice(b,1),B.splice(b,1),a.target.className=""):(z.push(a.target.dataset.recipe),B.push(a.target),a.target.className="excluded");w.update();a.preventDefault()};null===e&&(e=m.length,a=m);for(;e--;)a[e].skip?!a[e].cook||a[e].cook.uncookable||a[e].cook.skip||-1!==b.indexOf(a[e].cook)?!a[e].dry||a[e].dry.uncookable||a[e].dry.skip||-1!==
b.indexOf(a[e].dry)||b.push(a[e].dry):b.push(a[e].cook):a[e].uncookable||a[e].cooked&&!a[e].ideal||a[e].rackdried&&!a[e].ideal||-1!==b.indexOf(a[e])||b.push(a[e]),!a[e].cooked||a[e].raw.uncookable||a[e].raw.skip||-1!==b.indexOf(a[e].raw)||b.push(a[e].raw),!a[e].rackdried||a[e].wet.uncookable||a[e].wet.skip||-1!==b.indexOf(a[e].wet)||b.push(a[e].wet);A=[];w=T({"":"",Name:"name",Health:"health","Health+:Health gained compared to ingredients":"healthpls",Hunger:"hunger","Hunger+:Hunger gained compared to ingredients":"hungerpls",
Ingredients:""},A,function(a){var b=a.recipe;return da("td",b.img?b.img:"",b.name,y(b.health),y(a.healthpls)+" ("+y(100*a.healthpct|0)+"%)",y(b.hunger),y(a.hungerpls)+" ("+y(100*a.hungerpct|0)+"%)",W(a.ingredients.reduce(Ja,"")+(a.multiple?"*":"")))},"hungerpls",!1,null,null,function(a){return(!f||a.recipe.name===f)&&(0===z.length||-1===z.indexOf(a.recipe.name))&&(!q.length||!a.ingredients.some(E))&&(!x.length||x.every(t,a.ingredients))},0,15);C=document.createElement("div");p=document.createElement("div");
p.appendChild(document.createTextNode("Computing combinations.."));e=document.createElement("div");e.appendChild(document.createTextNode("* combination has multiple possible results"));C.appendChild(p);l=document.createElement("div");l.className="recipeFilter";C.appendChild(l);r=document.createElement("div");r.className="foodFilter";b.forEach(function(a){var b=N(a.img,32);b.dataset.id=a.id;b.addEventListener("click",D,!1);b.addEventListener("contextmenu",G,!1);b.title=a.name;r.appendChild(b)});C.appendChild(r);
n=document.createElement("div");u=document.createElement("input");u.type="text";u.placeholder="use custom filter";u.className="customFilterInput";n.appendChild(u);C.appendChild(w);c.parentNode.replaceChild(C,c);C.appendChild(e);Ha(b,function(a){var b,c;if(-1===h.indexOf(a.recipe.name)){for(b=0;b<h.length&&!(a.recipe.name<h[b]);b++);h.splice(b,0,a.recipe.name);c=N(k.byName(h[b].toLowerCase()).img);c.dataset.recipe=h[b];c.addEventListener("click",F,!1);c.addEventListener("contextmenu",I,!1);c.title=
a.recipe.name;b<l.childNodes.length?l.insertBefore(c,l.childNodes[b]):l.appendChild(c)}a.name||(a.name=a.recipe.name,a.health=a.recipe.health,a.ihealth=a.tags.health,a.healthpls=a.recipe.health-a.ihealth,a.hunger=a.recipe.hunger,a.ihunger=a.tags.hunger,a.hungerpls=a.recipe.hunger-a.ihunger,a.healthpct=ja(a.ihealth,a.recipe.health),a.hungerpct=ja(a.ihunger,a.recipe.hunger),a.sanity=a.recipe.sanity,a.perish=a.recipe.perish);A.push(a)},function(){p.firstChild.textContent="Found "+A.length+" valid recipes.. (you can change Food Guide tabs during this process)"},
function(){w.setMaxRows(30);p.firstChild.textContent="Found "+A.length+" valid recipes. Showing top 30 for selected recipe using all selected ingredients. Right-click to exclude recipes or ingredients."})},!1);return c};document.getElementById("statistics").appendChild(la());var Ka=function(a,c){return a.reduce(function(a,e){return Math.max(a,e[c]||0)},-1E5)};window.food=m;window.recipes=k;window.matchingNames=O;var X=function(a,c){if(null!==c)a.dataset.id=c.id;else{if(a.nextSibling&&null!==Q(a.nextSibling)){X(a,
Q(a.nextSibling));X(a.nextSibling,null);return}a.dataset.id=null}null!==c?a.firstChild?a.replaceChild(N(c.img),a.firstChild):a.appendChild(N(c.img)):a.firstChild&&a.removeChild(a.firstChild);a.title=c?c.name:""},Q=function(a){return a&&(m[a.dataset.id]||k[a.dataset.id]||null)};(function(){for(var a=document.getElementsByClassName("ingredientpicker"),c=a.length;c--;)(function(){var b=document.createElement("span"),e,f=document.createElement("div"),g=document.createElement("ul"),h=a[c],l=c,p,r="recipes"===
h.dataset.type?k:m,u=!h.dataset.cookable,n=h.nextSibling,q=n.getElementsByClassName("ingredient"),w,A=[],C,y=[],z=[],t=null,E=!1,G=document.getElementById("results"),D=document.getElementById("discoverfood"),B=document.getElementById("discover"),F=document.getElementById("makable"),I=document.createElement("span"),K=function(a,b){for(var c=a;c.previousSibling;)if(c=c.previousSibling,b(c))return c;return null},M=function(a,b){for(var c=a;c.nextSibling;)if(c=c.nextSibling,b(c))return c;return null},
L=!1,P=function(a){var b=m[a]||k[a]||null;if(w){for(a=0;a<q.length;a++)if(null===Q(q[a]))return X(q[a],b),E&&C(),a;return-1}-1===q.indexOf(a)&&(q.push(a),a=document.createElement("span"),a.className="ingredient",X(a,b),a.addEventListener("click",R,!1),n.appendChild(a),E&&C());return 1},S=function(a){-1!==P(("IMG"===a.target.tagName?a.target.parentNode:a.target).dataset.id)&&a&&a.preventDefault&&a.preventDefault()},U=function(a){var b=N(a.img,32),c=document.createElement("span");c.appendChild(b);c.appendChild(document.createTextNode(a.name));
c.dataset.id=a.id;-1!==A.indexOf(a)&&(c.style.opacity=.5);c.addEventListener("mousedown",S,!1);this.appendChild(c);this.dataset.length++},V=function(a){-1!==A.indexOf(m[a.dataset.id])?a.style.opacity||(a.style.opacity=.5):a.style.opacity&&a.style.removeProperty("opacity")},R=function(a){var b="IMG"===a.target.tagName?a.target.parentNode:a.target;if(w){if(null!==Q(b))return X(b,null),C(),b.dataset.id}else return a=q.indexOf(b.dataset.id),q.splice(a,1),n.removeChild(b),C(),q[a]||null},Z=function(){var a;
e.splitTag();a=O(r,e.getSearch(),u);f.removeChild(g);g=document.createElement("div");g.dataset.length=0;a.forEach(U,g);f.appendChild(g);t=null},W=function(a){a="IMG"===a.target.tagName?a.target.parentNode.dataset.link:a.target.dataset.link;var b=O(r,a,u);1===b.length?P(b[0].id):(h.value=a,Z())},J;"ingredients"===n.id?C=function(){var a,b,c,d,e;A=Array.prototype.map.call(q,function(a){return Q(a)});a=Da(A);b=a[0].health;c=a[0].hunger;d=a[0].sanity;e=T({"":"",Name:"name",Health:"health",Hunger:"hunger",
Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},a,function(a){return aa(a,b,c,d)},"priority",!0,W,function(a,b){return 0<b.length&&a.priority===Ka(b,"priority")});G.firstChild&&G.removeChild(G.firstChild);G.firstChild&&(G.removeChild(G.firstChild),G.removeChild(G.firstChild));G.appendChild(e);null!==A[0]&&(ha(y,A,a),0<y.length&&
(G.appendChild(document.createTextNode("Add more ingredients to make:")),e=T({"":"",Name:"name","Health:(% more than ingredients)":"health","Hunger:(% more than ingredients)":"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},y,function(a){return aa(a,b,c,d)},"priority",!1,W),G.appendChild(e)));g&&g.firstChild&&Array.prototype.forEach.call(g.getElementsByTagName("span"),
V)}:"inventory"===n.id&&(C=function(){var a;A=Array.prototype.map.call(n.getElementsByClassName("ingredient"),function(a){return Q(a)});D.firstChild&&D.removeChild(D.firstChild);B.firstChild&&B.removeChild(B.firstChild);F.firstChild&&F.removeChild(F.firstChild);0<A.length&&(a=T({"":"",Name:"name",Health:"health",Hunger:"hunger",Sanity:"sanity","Perish:Time to turn to rot":"perish",Info:""},A,ka,"name"),D.appendChild(a),ha(z,A,null,!0),0<z.length&&(a=T({"":"",Name:"name",Health:"health",Hunger:"hunger",
Sanity:"sanity","Perish:Time to turn to rot":"perish","Cook Time":"cooktime","Priority:One of the highest priority recipes for a combination will be made":"priority","Requires:Dim, struck items cannot be used":"",Notes:""},z,aa,"name"),B.appendChild(a),F.appendChild(la(A))));g&&g.firstChild&&Array.prototype.forEach.call(g.getElementsByTagName("span"),V)});0!==q.length?(w=!0,Array.prototype.forEach.call(q,function(a){X(a,null);a.addEventListener("click",R,!1)})):(q=[],w=!1);window.localStorage&&localStorage.foodGuideState&&
(p=JSON.parse(localStorage.foodGuideState).pickers)&&p[l]&&p[l].forEach(function(a){m[a]&&P(a)});E=!0;b.className="searchselector retracted";b.appendChild(document.createTextNode("name"));e=function(){var a=document.createElement("div"),c=!1,d=null,e=[{title:"name",prefix:"",placeholder:"Filter ingredients"},{title:"tag",prefix:"tag:",placeholder:"Meat, veggie, fruit, egg, monster..."},{title:"recipe",prefix:"recipe:",placeholder:"Find ingredients used in a recipe"}],g=e[0],f=null,k=function(){c=
!1;a.style.height="0px";b.style.borderBottomLeftRadius="3px";a.style.borderTopLeftRadius="3px";null!==f&&(clearTimeout(f),f=null);b.className="searchselector retracted"},l=function(a){g=a;h.placeholder=g.placeholder;b.firstChild.textContent=g.title},m=function(a){l(e[a.target.dataset.typeIndex]);Z();k()},n=/: */;b.addEventListener("click",function(){c?k():(null===d&&(a.style.height="auto",a.style.left=b.offsetLeft,a.style.top=b.offsetTop+b.offsetHeight,d=a.offsetHeight+"px",a.style.height="0px"),
c=!0,a.style.height=d,b.style.borderBottomLeftRadius="0px",a.style.borderTopLeftRadius="0px",a.style.width="auto",a.style.width=Math.max(a.offsetWidth,b.offsetWidth+1)+"px",null!==f&&(clearTimeout(f),f=null),b.className="searchselector extended")},!1);b.addEventListener("selectstart",function(a){a.preventDefault()},!1);b.addEventListener("mouseout",function(){null!==f&&clearTimeout(f);f=setTimeout(k,500)},!1);b.addEventListener("mouseover",function(){null!==f&&(clearTimeout(f),f=null)},!1);a.addEventListener("mouseout",
function(){null!==f&&clearTimeout(f);f=setTimeout(k,500)},!1);a.addEventListener("mouseover",function(){null!==f&&(clearTimeout(f),f=null)},!1);e.forEach(function(b,c){var d=document.createElement("div");d.appendChild(document.createTextNode(b.title));d.dataset.typeIndex=c;d.addEventListener("click",m,!1);b.element=d;a.appendChild(d)});h.parentNode.insertBefore(b,h);a.className="searchdropdown";h.parentNode.insertBefore(a,h);return{getTag:function(){return g.title},setSearchType:function(a){l(e[a])},
getSearch:function(){return g.prefix+h.value},splitTag:function(){var a;a=h.value.split(n);var b,c;if(2===a.length)for(b=a[0].toLowerCase()+":",c=a[1],a=0;a<e.length;a++)if(b===e[a].prefix){l(e[a]);h.value=c;break}}}}();f.className="ingredientdropdown";f.appendChild(g);f.addEventListener("mousedown",function(a){a.preventDefault()},!1);(function(){var a=O(r,e.getSearch(),u);f.removeChild(g);g=document.createElement("div");g.dataset.length=0;a.forEach(U,g);f.appendChild(g)})();I.className="clearingredients";
I.appendChild(document.createTextNode("clear"));I.addEventListener("click",function(){if(""===h.value&&"name"===e.getTag())for(;Q(n.firstChild);)R({target:n.firstChild});else h.value="",e.setSearchType(0),Z()},!1);I.addEventListener("mouseover",function(){""===h.value&&"name"===e.getTag()&&(I.firstChild.textContent="clear chosen ingredients")},!1);I.addEventListener("mouseout",function(){"clear"!==I.firstChild.textContent&&(I.firstChild.textContent="clear")},!1);n.parentNode.insertBefore(I,n);n.parentNode.insertBefore(f,
n);h.addEventListener("keydown",function(a){var b;-1!==[16,17,37,38,39,40,13].indexOf(a.keyCode)&&(b=t,13===a.keyCode?(null===t&&(t=g.firstChild||null),null!==t&&S({target:t})):null===t?40===a.keyCode&&(t=g.childNodes[1]||g.firstChild||null,null!==t&&(J=t.offsetLeft+t.offsetWidth/2,a.preventDefault())):(a.preventDefault(),37===a.keyCode?(t=t.previousSibling&&t.previousSibling.offsetTop===t.offsetTop?t.previousSibling:(a=M(t,function(a){return a.offsetTop!==t.offsetTop}))?a.previousSibling:g.lastChild,
null!==t&&(J=t.offsetLeft+t.offsetWidth/2)):39===a.keyCode?(t=t.nextSibling&&t.nextSibling.offsetTop===t.offsetTop?t.nextSibling:(a=K(t,function(a){return a.offsetTop!==t.offsetTop}))?a.nextSibling:g.firstChild,null!==t&&(J=t.offsetLeft+t.offsetWidth/2)):38===a.keyCode?((a=K(t,function(a){return J>=a.offsetLeft-1&&J<=a.offsetLeft+a.offsetWidth+1}))||(a=K(g.lastChild,function(a){return J>=a.offsetLeft-1&&J<=a.offsetLeft+a.offsetWidth+1})),t=a?a:g.firstChild):40===a.keyCode&&((a=M(t,function(a){return J>=
a.offsetLeft-1&&J<=a.offsetLeft+a.offsetWidth+1}))||(a=M(g.firstChild,function(a){return J>=a.offsetLeft-1&&J<=a.offsetLeft+a.offsetWidth+1})),t=a?a:g.lastChild)),t!==b&&(null!==b&&(b.className=""),null!==t&&(t.className="selected")))},!1);h.addEventListener("keyup",function(a){-1===[16,17,37,38,39,40,13].indexOf(a.keyCode)?Z():null!==t&&a.preventDefault()},!1);h.addEventListener("focus",function(){L||(L=!0)},!1);h.addEventListener("blur",function(){L&&(L=!1)},!1);C();window.addEventListener("beforeunload",
function(){var a,b;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.pickers||(a.pickers=[]),w?(b=[],b=Array.prototype.map.call(q,function(a){return(a=Q(a))?a.id:null}),a.pickers[l]=b):a.pickers[l]=q,localStorage.foodGuideState=JSON.stringify(a))});Y.push(Z);Y.push(C)})()})();var u=function(a){U(w[a.target.dataset.dlc].mask)},g=function(a){U(D^w[a.target.dataset.dlc].bit);a.preventDefault()},M=document.createElement("li");
ba.insertBefore(M,ba.firstChild);M.className="dlc";for(var fa in w)f=N("img/"+w[fa].img),f.dataset.dlc=fa,f.addEventListener("click",u,!1),f.addEventListener("contextmenu",g,!1),f.title=w[fa].name+"\nleft-click to select\nright-click to toggle",M.appendChild(f);U(D)})();
